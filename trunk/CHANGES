28/04/08 - sliceobj.php3 file renamed to more standard slice.class.php3
(honzam) - viewobj.php3  file renamed to more standard view.class.php3
         - aaprofile class renamed to more standfard AA_Profile + some profile
           optimalizations
22/04/08 - "AA finder" allows to search also in field deffinitions, now
(honzam)
21/04/08 - added editable discussion field free1
(honzam)
07/04/08 - new design_id parameter for poll.php3 by which you cen redefine
(honzam)   the design of displayed poll(s)
         - polls aliases improved and added new ones
         - removed unused cookies_prefix option from polls module
         - added utf-8 support for czech language version of AA
         - better Costant Editing - the results after submition of the form are
           taken frm the database, so it is 100% up to date
         - the Upload Directory is created for slice just during slice creation
           (there is no longer needed to create upload field and upload a file
           in order you can use Xinha (htmlarea) upload functionality)
         - new AA->Otimize action - "Create_Upload_Dir" for slice
           (for the cases the upload dir is not present)
         - phpThumb uses better configuration, so it work better on most
           AA installs
         - small fixes in date-time widget, refactoring
30/03/08 - new support for forms send through AJAX. Now you can write a html
(honzam)   page which will consist of one or more forms. The form after
           the submition will be send by AJAX, stored as new item to AA database
           and the result will be displayed instead of the form
           (without page reload). Example of the code follows:
              <form id="myform1" name="myform1" method="post" action="/apc-aa/filler.php3">
                <input id="inline" name="inline" value="1" type="hidden">
                <input name="slice_id" value="5e4576289e988c756b5525bacc78987b" type="hidden">
                <!-- text displayed insted of the form after the submittion (inserted item in our case) -->
                <input id="ok_url" name="ok_url" value="http://example.org/apc-aa/view_php3?vid=12&amp;cmd[12]=x-12-_#N1_ID___&amp;convertfrom=windows-1250" type="hidden">
                <!-- convertto is optional (you need it if you are not using utf-8 encoding) -->
                <input id="convertto" name="convertto" value="windows-1250" type="hidden">

                <input id="aa[n1_5e4576289e988c756b5525bacc78987b][headline________][]" name="aa[n1_5e4576289e988c756b5525bacc78987b][headline________][]" size="60" value="" type="text">
                <input id="aa[n1_5e4576289e988c756b5525bacc78987b][switch__________][]" name="aa[n1_5e4576289e988c756b5525bacc78987b][switch__________][]" type="checkbox">

                <input id="ajaxsend" name="ajaxsend" value="Send" onclick="SendAjaxForm('myform1')" type="button">
              </form>
         - new {seo2ids:<slices>:<seo-string>} syntax used like
             {seo2ids:8a435116626262738348478463536242:about-us}
           which returns long id of item in selected slice (or dash separated
           slices) with the specified SEO string in seo............. field.
           If there more such ids (which should not be), they are dash separated
         - new {options:<group_id>} syntax which returns HTML <option> tags for
           given constant group - like {options:lt_languages};
         - new {version[:full|aa|svn]} syntax which prints version of AA
           as fullstring, AA version (2.11.0), or svn revision (2368)
         - new {modulefield:<sice_id>:<field_id>} - returns module/slice field
             {modulefield:8a435116626262738348478463536242:_abstract.......}
           replaces older {alias:_abstract.......:f_s:slice_info} syntax
         - fixed older {alias:_abstract.......:f_s:slice_info} syntax
           for module/slice field display
         - encoding conversion uses utf-8 as the base (so you do not need
           to specify it in convertto or convertfrom parameters)
         - fixed backslashes problem in the polls module
         - change of content of module/slice fields invalidates cache for
           the slice
         - javascript links converted form href="javascript:" to standard
           href="#" onclick="" solution on some places
         - fixed counting itmes in bins (if the item is expired AND also pending
           (quite strange item), then it is placed into expired bin only)
         - fixed diesign edit for polls
18/01/08 - {now} command now could use format: {now:format}, where format is
(honzam)   standard php date format @see http://php.net/date. Ex: {now:d.m.Y}
         - Improved the "Copy slice" feature of Central. Now it splits the copy
           into separate tasks (chunks), so we are able to copy also slices with
           unlimited number of items in it. The copying now works well - tested
           on one big real site with 15+ slices including site module and Reader
           management
         - Pagecache is now purged asynchronicaly from toexecute queue
           So far we purged the cache on random basis with the probability about
           1:1000 when you tried to save the content to the cache. Now only
           the purge action is planed into toexecute queue (table) and it is
           then executed rom there (by AA cron). The adventage is, that the
           "lucky" user do not need to wait for cache purge finish. Also it is
           better planed - the clenup is done once for 5 minutes, now
         - Counting of hit_1...., hit_7...., hit_30.... and display_count fields
           are counted asynchronicaly from toexecute queue (table)
         - The hits statistisc are now compacted automaticaly (from toexecute
           queue) - hits for one item is grouped for one day (for hits older
           than 8 days). It makes the hit_archive table much smaller
         - little improved UI of user administration
07/01/08 - small bugfix in stringexpand.php3 for new {img} syntax
(Adam)
21/12/07 - added Field_Duplicates_Test, Field_Duplicates_Repair,
(honzam)   Update_Db_Structure_Test, Update_Db_Structure_Repair to actions in
           Central. At this moment you can update the database structure
           of remote AA by those actions. Those actions should replace the old
           system sql_update.php3. All the table definitions are stored
           in metabase. The advantage of this approach is, that only the tables
           which structure is modified are updated (metabase compares
           the definitions for current and latest AA structure). Before update
           you should run Field_Duplicates_Test and if the duplicates are found,
           then run Field_Duplicates_Repair. Only then
           the Update_Db_Structure_Repair is finished well
         - fixed "Copy slice" feature of Central. Now uses Task Manager
           and items import is optional
         - UI of Task Manager is improved a bit
         - better timeout handling in toexecute queue class
         - AA_Http::postRequest function is many times faster on the server with
           PHP5, now. If you are using PHP4, the old slow function is used.
           It speeds up mainly the Central scripts (Synchronize, Copy Slice)
         - preventing AA session expiration for remote AAs
         - fix new database upgrade script to work with MySQL 4.0
         - old records from post2shtml table are deleted periodicaly (with log
           table cleanup)
16/12/07 - fixed syntax errors with polls tables inside sql_update.php3
(Adam)
12/12/07 - fixes in Central Synchronization - constants are synchronized well
(honzam) - better UI for Central Synchronize
         - cleanup in polls - removed unused functions and files
         - fixed probem with loosing number of votes, when poll is updated
12/10/07 - metabase now deals with indexes. Metabase is now also able to create
(honzam)   right SQL for creating whole AA database, so sql_update.php3 script
           will use it instead of SQLs placed directly into sql_update.php3
         - added new Add Polls action in AA -> Optimize which creates Polls
           tables and first Polls template for you
         - cleanup in polls
         - fixed {ids...} construct which was not working after the change
           to AA_Set 12/05/07
         - parameters described in modules/polls/poll.php3
         - fixed syntax errors in aa_optimize.php3
12/06/07 - fixed sql_update.php3 script for polls module - you can use
(honzam)   AA -> Optimize "Add Polls" action for initial table creation
!SQL!
12/05/07 - polls module finalized and working - last bugs fixed, database
(honzam)   structure of polls* tables is different. Thanks should go to Econnect
           who sponsored the initial polls implementation and to Colnodo, who
           sponsored this finalization.
         - Error page could be defined for database errors - use
           define("DB_ERROR_PAGE", "http://some.url.cz/page.html"); in your
           config.php3 file.
         - new possibility to set the the URL for uploaded files. The place,
           where the data are stored is not changed, but you are able to change
           the url which is stored into database. So, if you make symbolic link
           from say /var/www/some.domain.cz/documents to
           /var/www/aa.domain.cz/img_upload/56345363737337373763, then you can
           set that the uploaded url to some.domain.cz, so the files will look
           like from your domain.
           See "Slice Admin" -> "Slice Fields" -> "Upload URL" field
         - new support for compound widgets (like date, file upload) in
           AA_Widget_* class and its support in AA_Form_Grabber API.
           Compound widgets, which consists from more than one input. In such
           case we use following syntax:
             aa[n1_54343ea876898b6754e3578a8cc544e6][publish_date____][dte][d][]
             aa[n1_54343ea876898b6754e3578a8cc544e6][publish_date____][dte][m][]
             aa[n1_54343ea876898b6754e3578a8cc544e6][publish_date____][dte][y][]
           where "dte" points to the AA_Widget_Dte. The method
           AA_Widget_Dte::getValue() is called to grab the value (or multivalues)
           from the submitted form
         - The database errors are loged into system log (thanks to
           Cedric Knight, GreenNet)
         - site module Setting page converted to more generalized (module) version
         - refactoring to use AA_Set instead of AA_Sortorder and also changes
           in AA_Manager class - method display()
         - AA_Views and AA_Slices uses singleton pattern
         - better support for synchronizatin slices in AA_Metabase, ...
         - synchronization script in AA Central updated
12/04/07 - Added prototip js code - see:
(honzam)      http://www.nickstakenburg.com/projects/prototip/.
           If you add apc-aa/javascript/aajslib.php3 and
                      apc-aa/javascript/prototype/css/prototip.css
           to your page (as javascript), then you can use the tooltips, just like
              <script type="text/javascript">
                 new Tip('id_of_HTML_element', 'tooltip html code', {delay: 0});
              </script>
         - view edit page uses big textareas (just like in the form for fulltext)
         - Prototype javascript library upgraded to last version 1.6.0
         - Improved cache deletion - the pagecache_str2find table is cleaned
           only if pagecache table was sucessfully cleaned
         - SQL commands for searching AA database was simplified a bit (without
           functional change)
         - fixed bug in "Bulk email - Send emails" for Reader Slice - remaining
           changes for AA_Log refactoring
         - fixed problem with "sess" variable, when used as parameter to shtml
           file (it redefines inner sess variable). Now it works well without
           problems.
11/13/07 - new Task Manager allowing us to split long tasks to subtasks and let
(honzam)   user control the execution
         - AA Synchronization in Central now uses more general approach using
           AA_Metabase and Task Manager
         - AA_Metabase improved - now it holds structure of AA database, which
           help us with security check in SQL commands, database upgrades
           or just updates of data
         - New "Fix field definitions duplicates" Optimalization script in
           "AA -> Optimize". There should be only one slice_id - field_id pair
           in all slices, but sometimes there are more than one (mainly because
           of error in former sql_update.php3 script, where more than one
           display_count... fields were added)
         - Better deletion of slice when you delete it (more cleanup is performed)
         - Improved "Copy slice/site" feature in Central
         - the "slice_id, id" pair is marked as PRIMARY KEY for "field" table
           in sql_update.php3 (instead of just KEY). You can have problems with
           sql_update.php3, because there was small bug in previous
           sql_update.php3 script, which duplicated the display_count... field.
           In such case you should go to "AA -> Optimize" page and run
           "Fix field definitions duplicates" repiar
         - changed name of class from toexecute to AA_Toexecute
11/12/07 - new {limit:<ids>:<offset>[:<length>[:<delimiter>]]} syntax
(honzam)     Allows you to get only the part of ids (first, last, ...) from the
             list - like:
                 {limit:12324-353443-533443:0:1}   // returns 12324
                 {limit:{ids:6353428288a923:d-category........-=-Dodo}:0:1}
             Offset and length parameters follows the array_slice() PHP function
         - new {next:<ids>:<current_id>} and {previous:<ids>:<current_id>} syntax
             Next/Previous item for the current item in the list - like:
                 {next:12324-353443-58921:353443}   // returns 58921
                 {next:{ids:6353428288a923:d-category........-=-Dodo}:566a655e7787b564b8b6565b}
         - new {img:<url>:<phpthumb_params>} syntax - Creates link to modified
           image using phpThumb - like:
                 <img src="{img:{img_url.........}:w=150&h=150}">
             see http://phpthumb.sourceforge.net/demo/ for phpThumb parameters
         - "No Item Message" can use AA Expressions for view.php3 as well as for
           slice.php3. It alse uses textarea now (so the text could be longer)
         - buttons on itemedit form and actions in Item Manager have ids
           attributes now, so you can easily hide it by CSS
         - better error messages in fillform.php3
         - fixed limit parameter for grouping, so folowing code now works:
               sort = 5headline........-
               sort[0] = 5headline........-
               sort[0][headline........]=d&sort[0][limit]=5
             displays maximally 5 items for each group
          - fixed "=" operator - the "*" and "?" characters are not replaced
            by "%" and "_" in SQL which was nonsense anyway
         - a bit nicer HTML code for <select... widget
09/18/07 - Central now supports creation of exact copy of the slice on (or from)
(honzam)   remote AAs
         - new hitcounter statistics - to display statistics use the
           {hitcounter:days:<ids>} command - just like:
           {hitcounter:days:24457-24474} or
           {hitcounter:days:{ids:76f59b2023b8a4e8d6c57831ef8c8199:d-publish_date....->-1185919200}}
         - Item Manager actions converted to new - class approach
         - better counting algorithm for hitcount statistics
         - filler.php3 updated to work with WAP pages (Thanks to Colnodo)
         - AA javascript library now uses AA_Config object to store AA settings
         - Alerts "Send Emails" page now works also with ReaderManagement slices
           which uses slice password
         - first classes supporting media/foto gallery in files.class.php3
         - storeable_class renamed to standard AA_Storable
         - widgets moved to separate include file widget.class.php3
         - preparison for joining fulltext view and index view code
         - last places where appears $HTTP_*_* replaced by superglobals - $_*
09/07/07 - fixed the code of hitcounter to work also in PHP4
(honzam)
09/05/07 - removed last references to HTTP_GET_VARS, HTTP_POST_VARS, ... so AA
(honzam)   should work with "register_long_arrays" php option switched OFF
         - fixed bug with "Propagate changes" in constatnts - it works well with
           fields with multivalues as well
         - better chsking of x=.. and o=.. perameters, so the database error is
           not shown if the parameter is corrupted
         - updated prototype.js library to version 1.5.1.1
08/29/07 - fixed typo in sql_update.php3
(honzam)
08/24/07 - New version of counting item hits (AA_Hitcounter) with ability
(honzam)   to display "Most popular item last day/week/month". See
!SQL!      http://www.actionapps.org/en/Designing_Output_Templates#Popular_Items_.28Hit_counting.29
           for more details.
           (you need to run sql_update.php3 script !!!)
         - logging is rewritten to class (AA_Log), the logs are automaticaly
           cleaned (entries older than 40 days) so the log should never became
           so big
         - New ParseMulti transformation for "Modify Content..." feature
           of ItemManager - Divide the text to multiple values on specified
           delimiter
         - Two Boxes input type now allows to move more than one value at time
           (by selecting more values with CTRL key)
         - uploaded new basice ER schema of AA database from Jitka Zavadova
           See doc/AAdb_ER.html
         - updated AA coding standards
         - used size-optimized version of prototype.js library
         - Database eroros messages are less verbose - do not display database
           username, ...
         - _#ID_COUNT gives better results, now - mainly in the casese, where
           we have nested views
         - Alias parameters on the field admin page are now textareas,
           so the code for the parameter could be longer. We also changed the
           database field type, so the length of the parameter is not limited
           to 256 characters (you need to run sql_update.php3 script)
         - do not dislplay errors in img.php3 (phpThumb)
         - some small fixes, name changes and security improvements
08/22/07 - fixed function {@fieldlist} - the fields are taken from the slice
(honzam)   and in the same order for each item in the slice
08/13/07 - fixed problem of overwriting articles which was fed by RSS or AARSS
(honzam)   (cross server networking)
08/10/07 - fixed problem with adding item (stringexpand.php3 error)
(honzam)
08/04/07 - Central upgraded to new version with less bugs
(honzam) - other small fixes
08/03/07 - AA_Manager class which takes care about all managers - Item Manager,
(honzam)   Links Manager, ... now support new API for actions (AA_Manageraction)
         - Central manager switched to use new acion API - AA_Manageraction.
           We plan to rewrite all the actions (for item and links) to that new
           API and remove the code for the old approach
         - synchronize scripts added to central admin interface
         - {conds} command obtains third parameter, which do not url encode
           the condition, so for the view you have to use the old version
           without the third parameter:
             {view.php3?vid=9&cmd[9]=c-1-{conds:category.......1}},
           but for {ids..}, where we do not expect urlencoded strings you have
           to add third parameter, like:
             {ids:5367e68a88b82887baac311c30544a71:d-headline........-=-{conds:category.......3:1}}
         - The links, which are not active in AA Admin interface is now
           completely hidden (like the "AA" link for Editors)
         - disabled "Update modules table" option in sql_update.php3 since it
           clears the priority field
         - the field "Upload URL" on "Slice Admin" -> "Slice" page is hidden,
           since it is not working, yet.
         - fixed Hirachical constant editor - now works again
         - linkchecker do not produce warnings, if the domain do not exist
         - removed unused function p_arr
08/01/07 - new "Central" admin interface visible for superadmins. It can store
(honzam)   multiple configurations of AA, so you can manage more AAs
           and databases from one place. Currently it allows to manage
           the configurations (add, edit, delete) and also do sql_update.php3
           on multiple (selected) AAs
         - new table central_conf created in sql_update.php3 script - used
           by "Central"
         - new robots.txt file for more secure setting of the AA install
           (Thanks to carlos Alberto RR <carlos@colnodo.apc.org>)
         - new f_z alias function which get the size or type of the file
           (Thanks to Adam Sanchez)
         - new expand function {lastedit:[<date_format>:[<slice_id>]]}
           which displays the date of last modificaton of any item in the slice.
           The format of date is the sane as used in PHP date() function
           (see http://php.net/date). slice_id could be ommited - then check
           all the slices in AA. Thanks belongs to Adam Sanchez.
         - more spam checking for in discussions - you can use the "answer"
           field solution in the same way as with anonymous form for items
         - small refactoring of QuoteColons() in strinexpand.php3 - moved
           to AA_Stringexpand::quoteColons($text) where it belongs.
         - small refactoring in ItemManager - bins internaly uses bit
           representation insted of string
         - fixes in AA synchronization script
         - fixed some SQL queries in sql_update.php3, to not produce errors
           in last versions of MySQL
         - fix database error messages to not produce invalid html code
         - small fix in tabledit
07/30/07 - fixed javascript problem in "Slice Admin" -> "RSS Feeds", so delete
(honzam)   and edit works again.
07/02/07 - fixed MLX view caching - enable with define ('MLX_NOVIEWCACHE',0);
(mimo)   - fixed mlx mini view generator (aka getTranslations)
           now handles MLXView::getTranslations no ctrlSliceID
         - enabling MLXTRACE now gives timing info
         - slight change to what view.php3 passes to mlx->postqueryzids
         - using $_REQUEST to get $keystr in cached.php3 - register_globals
06/07/07 - fixed "Modify Content" action in Item Managrer to work with PHP4
(honzam) - fixed Alerts admin page buton - it didn't work after clean-up
           (typo problem)
06/01/07 - export slice now allows convert exported data to utf-8
(honzam)   It is handy if you are switching slices to another server, where
           AA uses newer - utf-8 character encoding.
05/29/07 - fixed some typos (so view editing works again)
(honzam)
05/28/07 - new Optimize_db_feed_inconsistency action in AA -> Optimize, which
(honzam)   tests, if feeds table do not contain relations to non existant
           slices. Also fixed for use with PHP4.
         - inner node feeding setting page now displays wrong assignments to non
           existant slice (database inconsistence after slice deletion)
         - fixed problems with PHP4
            - _AA_CoLoN_, ... was not correctly unescaped, so such strange
              strings were displayed on the output
            - class names are in lower case in php4, so functions (input types)
              selection did not work correctly
         - fixed typos in sql_update.php3
05/28/07 - multiple checkboxes input type has its own ajax output
(honzam) - new url parameter AAnoSORT (set[]=sort-AAnoSORT) for view.php3, which
           cut the sort setting in view off
         - annonymous filler now supports new possibility to update already
           filled items through aa[u536353...] syntax
           (see changes on 04/15/07 for description)
         - better quoting if the displayed text in {htmltoggle} and
           {htmlajaxtoggle}, so the displayed text should not break
           the javascript
         - database structure updated to last verson in sql_update.php3 script
            - better support for MySQL 5.0,
            - field for grouping items in views by first letter, ...
         - fixed typo in searchbar (admin interface), so it is functional again
         - prototype (javascript library for AJAX, DHTML, ...) updated
           to version 1.5.1
05/16/07 - fixed help text for site include (thanks to Adam Sanchez)
(honzam)
05/10/07 - much improved AJAX editing - The input types are slowly moved to
(honzam)   AA_Widget class. Ajax editing currently uses this approach.
           {ajax:<item_id>:<field_id>} allows to display correct input type
           (widget) based on the setting of the field.
           Not all widgets are currently rewritten for using in AJAX editing,
           but there is defined fallback mechanism for all the widgets, so all
           the fields are editable with correct options (including constants,
           slice items selects, ...).
           Also parameters for each widget are moved directly to AA_Widget_*
           classes as AA_Property. It will allow to add new widgets just by
           defining new class (based on AA_ Widget). All will work automatically
           including Param Wizard, ...
         - (mass) Modify content feature of item manager now allows to select
           not only current items or user selection, but also all items
           in slice, all trashed items, ...
         - new experimental "named expression" syntax:
              {define:name:expr} and {var:name:parms...}
           The {define:name:expr} must be processed before the {var:name} is
           processed when the page is generated. You can use parameters with
           {var:name:param1:param2:...:...} the expression then will use
           _#1, _#2, ... for each parameter, just like:
              {define:username:My name is#: _#1} and usage {var:username:Joseph}
           You can use it for
              - creating on-line "aliases",
              - passing parameters between nested views,
              - ...
         - it is possible to "group by" using only first 1, 2, or 3, letters
           of the field in views
         - better spam filter in discussions - http links are not allowed
           for some fields (like subject, author, ...)
         - fixed problem with using page scroller on page, which uses slice.php3
           and als[] aliases. The aliases are not lost on other pages, now.
         - storeItem() function now uses $flags array instead of separate
           function parameters, which is easier to maintain.
           The new flag "throw_events" introduced - allows to skip throwing
           event on item insert/update (good for mass import of items)
         - characterset conversion scripts are updated to the latest version,
           which fixes one bug in UTF-8 encoding
         - fixed problem with "call time pass by reference" warning of PHP
         - cookies manipulation javascript functions moved to aajslib.php3,
           so it is accessible also on user pages
05/09/07 - ActionApps code clean-up.
(honzam)    - added comments for functions, classes, ...
            - cleaner code used, indentation of 4 spaces used in every script...
            - the sources should be compliant to ActionApps coding standards
              (http://actionapps.org/aa/doc/coding.html)
           Thanks to Lukas Panek.
04/15/07 - new version of filling items from form - through aa[] array allowing
(honzam)   multiple items to store at once. The format of the data is followiing
                 aa[u<long_item_id>][modified_field_id][]
           Note:
              first brackets contain
                  'u'+long_item_id when item is edited (the field is rewriten,
                                   rest of item is untouched)
                  'i'+long_item_id when item is edited (the value is added to
                                   current value of the field, rest of item is
                                   untouched)
                  'n<number>_long_slice_id' if you want to add the item to
                                            slice_id <number> is used to add
                                            more than one item at the time
              modified_field_id is field_id, where all dots are replaced by '_'
              we always add [] at the end, so it becames array at the end
           Example:
               aa[u63556a45e4e67b654a3a986a548e8bc9][headline________][]
               aa[i63556a45e4e67b654a3a986a548e8bc9][relation_______1][]
              aa[n1_54343ea876898b6754e3578a8cc544e6][publish_date____][]
         - new AA_Item class which is able to cache items during page display.
           It should reduce number of SQL queries during page creation
         - more time information on SQL queries for debugtime option
         - new class AA_Includer which will automatically include required class
           definitions (user defined actions/functions) for you in the future
           (not finished, yet).
         - some query optimization for GetItemContent()
         - make sure that $_GET, _$POST, $_COOKIES are always unquoted
           (check in init_page.php3)
03/29/07 - increased max size of val field in active_sessions (to mediumtext)
(brazda)
03/06/07 - new {formbreaktop:...} and {formbreakbottom:...} commands for
(honzam)   splitting inputform into parts - the ussage is the same
           as {formbreak:...}, but the tabs are displayed only on top or bottom,
           respectively
         - fixed bug of not working user administration, when all reader slices
           are marked as deleted
         - new possibility to use utf8 encoding in site module
           (en-utf8_site_lang.php3)
02/28/07 - AA synchronization script in AA Central now is able to synchronize
(honzam)   two remote slices. It works, but we need UI improvements and testing
02/25/07 - started work on Central - the place, from which you can control many
(honzam)   installed AAs. The first script part is used for synchronization
           of slices across AA installs.
           @see /apc-aa/central
02/22/07 - better spam checking feature are now implemented in filler.php3
(honzam)   (anonymous items) as well as filldisc.php3 (discussion comments). It
           is based on the fact, that spammers obviously submits many urls, so
           there is allowed only limited count of links for each field. Four or
           less urls are always OK. More are allowed just for longer comments
           (1 link for 250 characters).
         - ajax methods now uses prototype implementation of AJAX
           @see http://prototypejs.org
         - new experimental possibility for "Selectbox" and "Two Boxes" input
           types to set use item value in conditions. This allows to create
           Selectbox with Related Items where you show only related Items of
           given category of edited field:
             conds[1][place..........1]=1&conds[1][operator]=%3D&conds[1][value]=_#TOWN_ID_
           _#TOWN_ID is alias in current slice, so only items where
           place..........1 is equal to town of currently edited item is listed
           in the selectbox.
         - new possibility to display not only one "field: of current user from
           Reader Management Slice by {user:address.........}, but you can use
           any AA string with aliases, ... {user:This is my _#FULLNAME}
         - new {htmlajaxtoggle:<toggle1>:<text1>:<toggle2>:<url_of_text2>} used
           for hide/show part of the page (like {htmltoggle}), but the hidden
           code is loaded into the page right after user demand (click)
           It creates the link text1 (or text2) and two divs, where only one is
           visible at the time - first is displayed as default, the second is
           loaded by AJAX call on demand from specified url. The URL should be
           on the same server.
           The /javascript/aajslib.php3 shoud be included to the page by
           (by <script src="">)
           Example:
             {htmlajaxtoggle:more &gt;&gt;:Econnect:less &gt;&gt;:/aboutEcn.htm}
         - new else_text option for {ifset:<condition>:<text>:<else_text>}
           - displayed, when the condition is not empty
         - New {slice:name} function which displays slice name :-)
         - fixed problem with additional newlines in e-mails sent by AA
02/06/07 - new possibility to grant AA permissions to only subset of users from
(honzam)   Reader Slice. The "Reader Set" is defined by normal conditions, so
           it is extremely powerful - you can use any field of Reader slice
           for it. The conditions are controlled be new AA_Set feature, which
           holds set of conditions and sorts (we will use such "Sets" as named
           conditions to view.php3/slice.php3 in near future). The set is
           defined on "Slice Admin -> Design - Sets of Items".
           The "reader set" works just with LDAP permission system, right now,
           but it is very easy to adapt it also for SQL permissions.
         - image manipulation library phpThumb integrated into AA. You can use
           it by calling /img.php script:
           <img src="/aaa/img.php?src=http://example.com/img/flower.gif&w=150">
           (w=150 means that image will be converted to width=150).
           All the parameters you can see on
           http://phpthumb.sourceforge.net/demo/demo/phpThumb.demo.demo.php
           (just use img.php instead of phpThumb.php in the examples)
           The modified images are cached in <IMG_UPLOAD_PATH>/phpThumbcache/
         - new possibility to define external script as Control File for Site
           Module, so you can give this script to your users without the need to
           give them also rights to edit AA files.
              There are two possibilities, how to control the apc_state
              variable. It could be se in ./modules/site/sites/site_...php
              control file. The control file could be managed only by people,
              who have the access to the AA sources on the server. If we want to
              permit control of the site to extenal people, which do not have
              access to AA scripts directory, then it is possible to them to not
              fill "site control file" in site configuration dialog and then
              call this script from their own file, where the new $apc_state,
              $slices4cache and $site_id will be defined and passed by GET
              method. Just like this:
                 $url  = 'http://example.org/apc-aa/modules/site/site.php3?';
                 $url .= http_build_query( array(
                           'apc_state'    => $apc_state,
                           'slices4cache' => $slices4cache,
                           'site_id'      => 'ae54378beac7c7e8a998e7de8a998e7a'
                                          ));
                 readfile($url);
           See apc-aa/modules/site/sites/external_controlfile_example.php3 for
           more info
         - Basic spam filter solution for discussions. It is based
           on the presumption, that the robots fill all the fields in the form,
           even the hidden ones. filler.php3 then never stores comment, which
           would have "answer" field filled. So if you add say:
              <style type="text/css">
                  .skryt { display:none };
              </style>
              <div class="skryt">
                Do not fill, please: <input type="text" name="answer" value="">
              </div>
           to the form, then the comments form is "protected". It works quite
           well, but of course it should be improved in future.
         - stringexpand functions was converted to classes AA_Stringexpand_...,
           which is more flexible and will allow to add new custom syntaxes
           {custom_function:..} in the future.
         - the result of most time consuming stringexpand functions is cached
           now, so if you will use {ids:...} and then again {ids:...} with the
           same parameters during displaying one page, then the database is
           contacted just once. The unaliasing is faster then (thanks to new
           AA_Stringexpand class).
         - new {htmltoggle:<toggle1>:<text1>:<toggle2>:<text2>} which creates
           the link text1 (or text2) and two divs, where only one is visible at
           the time
           see http://www.actionapps.org/en/Syntax
         - new parameter <restict_ids> for
           {ids:<slices>:<conds>[:<sort>[:<delimiter>[:<restrict_ids>]]]}
           see http://www.actionapps.org/en/Syntax for more details
         - better {icq}, {skype}, {jabber} handling
         - speedup of AA unaliasing by better regular expression handling
           (x-times speedup for complicated AA expressions - like forms)
         - new {aggregate:function:ids_string:expression:parameter} which
           operates across set of items. The possible functions are:
             sum, average, concat, count
           parameter is used just for concat (concatenation) as delimiter
           expression could be field_id as well as alias
           (see http://www.actionapps.com/en/Syntax for more details)
         - new {strlen:<string>} alias function (returning length of the string)
         - new parameter "add" for {substr:<string>:<begin>:<length>:<add>}
           alias function. The <add> parameter is added to the returning string,
           but only if the resulting string is shorter than current <string>.
           It is useful if you want to short the headline to max 60 characters,
           and add three dot, in the case the headline is shorted:
              {substr:{headline........}:0:60:...}
         - new {trim:<string>} alias function - removes beginning and ending
           spaces from the <string> - see php trim() function
         - new possibility for {conds:<string>} alias function. Now you can
           create condition based on value of the field (including multivalue):
              {view.php3?vid=9&cmd[9]=c-1-{conds:category.......1}}, where
           {conds:category.......1} is expanded to something like
           '%22Squash%22%20OR%20%22Table%20Tenis%22', which is urlencoded
           "Squash" OR "Table Tenis". This way you can find all people, who have
           at least one common hobby with you.
         - new {constant:<group_id>:<value>:<what>} which allows to get
           the 'Name' of constant in <group_id> for the specified <value>
              say {constant:apc_main_categs_:ENV:name} returns "Environment".
           Default value for <what> parameter is "name", so if you want to know
           the name, then you can omit it.
         - session ids are passed by GET (again) - not by cookies, since there
           was problems with it (the tabs in firefox shares the cookies,
           so multiple tabs uses the same session id, which is still not ok
           for some pages in AA administration.
         - It is possible to specify more than one searchbar default condition
           in profiles, now; code moved to more object oriented - using
           AA_Conditions, ...
         - textareas in AA forms automatically get bigger, if it already
           contains long text
         - admin interface for discussion now contains information about
           IP address of comments writer
         - new possibility to use conds[] and sort[] also for constants used for
           displaying some Input Type. Now you are able to sort the constants
           transparently at the time it is displayed in the selectbox, for
           example. You are also able to display only constants containing
           "Nature", have value bigger than 1000, ...
         - added some classes to discussion output, so it is more skinable, now.
         - better handling of empty search row (change in inner code) in search
           bar
         - added modules/polls to SVN repository - This module allows voting
           on page - it uses "phpPolls" code and it is not completed yet.
           Anyway it is better to have it in the svn in order other can look
           and finish it since Pavel Jisl (original author) is no longer
           available for this work.
         - GUI improvement in view setting - link to view is not in popup
         - Cleanup
            - class names now uses standard naming convention - prefix AA_ and
              name with all first letters in upper case (manager => AA_Manager)
            - global functions now rewritten to static class methods, where
              appropriate (sliceid2name() => AA_Slices::getName())
            - class methods begins with lower caps letter
            - cleanup of QueryZids() parameters - fields are no longer needed,
              as well as other unused parameters
            - new AA_Object, AA_Property, AA_Widget, AA_Fields, AA_File_Wrapper,
              AA_Set classes. Many uses standard AA properties and prepared for
              easy extensibility of the code
            - regular expressions ereg functions replaced by faster preg
              functions, where possible
            - new AA_File_Wrapper class, which is used for accessing local
              as well as remote (http:, ftp:) files
            - new implementation of AA_Storable - more object oriented, more
              robust. It is based on AA_Object super-parent class and its
              getPersistentProperties() method, which should be overriden in all
              Child classes which want to be persistent. The objects are stored
              to new object tables (object_text, object_integer, object_float).
            - improved valiadion class AA_Validate
            - new javascript AA_Config object storing AA_INSTALL_PATH,
              ... for usage in AA javascripts
         - added "prototype" javascript library to the AA. It have some very
           nice features like function $(), which is shortcut for
           document.getElementById, DOM manipulation functions AJAX, ... We will
           use it intensively in near future.
           see http://www.prototypejs.org/
         - database structure updated - fields in object_* tables renamed to
           match common structure
         - pagecache uses REPLACE command where possible
           (instead of SELECT+INSERT/UPDATE)
         - new optimization functions in AA Optimize
            - Convert no longer used slice.category_sort to slice.group_by
            - Copy Content Table

         - fixed banner parameter and some more fixes in slice.php3
         - fixed problem with some filenames in CSV import
         - small changes and bugfixes in slice export, authentication and
           pagecache
         - fixed database structure to be compatible with MySQL > 4.1
           (binary changed to varbinary)
         - fixed sql permission system, so it works also if crypt() function
           of the system uses Blowfish encryption
         - fixed problems with charsets in AA Admin interface on some systems
           (php 5.2?)
         - the xinha (wysiwyg HTML area) do not report javascript error, now
           (dirty hack, for now)
         - fixed bug in link checking code (used in Links module) - the server
           response wasn't parsed well, when the response text contains
           apostrophe (Italian server responses for 404 uses such character)
         - fixed bug in {math} - now work again
10/14/06 - added profile support and profile settings button also for groups
(brazda)   (rules priority is in the order User -> Groups -> Default, so if you
           define different values for some rule, then the User rule wins.
           The priority of rules in different groups is random.)
10/13/06 - fixed bug in new input validation code
(honzam)
10/11/06 - new {icq:<user_id>[:<action>[:<style>]]} expressions, which display
(honzam)   ICQ status of the user.
                user_id - ICQ ID of the user
                action  - add | message
                style   - 0-26 - displayed icon type
                        (see: http://www.icq.com/features/web/indicator.html)
         - new {field:<field_id>:name} expression - displays name of the field
           as defined for inputform
         - {ids:<slices>:<conds>[:<sort>[:<delimiter>]]} modified to be able to
           get ids from more than one slice (slice ids are delimited by dash -)
         - "No Item Message" in Item Manager is unaliased now (= you can use AA
           expressions there)
         - new possibility to set ordering of items in Item Manager on two
           or more columns in profiles
         - fixed bug with automatic feeding (did not work, when item was posted
           posted to holding bin first)
         - fixed problem with two boxes inputform - the order of values now
           persist
         - fixed _#ID_COUNT to display also 0
         - paths to scripts are relative again for the admin interface
         - it is possible to order values also by "level" (of nesting)
           as defined in Constants for the field
         - UI change - added another 4 empty rows for setting of permissions
           to slice for user
         - new validation class
         - optimize/repair scripts was moved to AA -> Optimize
           (aa_optimize.php3) script
         - work on history tracking begins - see AA -> history
08/29/06 - new version of "Modify Content..." window - better and universal
(honzam)   interface, more options, easy to write your own new transformation
           class (see AA_Transformation class)
         - "No Item Message" is unaliased now, for Item Manager
         - fixed problem with wrong url of "related Item Window" and "Parameter
           Wizard"
         - fix: _#ID_COUNT returns string "0" if no item is found (instead
           of empty string)
         - new AA_Condition class for conditions manipulations in searchlib.php3
         - fixed email permissions file to use User and Group constatnts instead
           of translated strings
08/22/06 - fixed security hole for setup.php3
(honzam) - changes all binary fields in database to varbinary, which is needed
           for MySQL >=5.0.17 in sql_update.ph3; new repair routine in test.php3
           which repairs db when you already applied unpatched sql_update.php3
           script to MySQL >=5.0.17 database, so your fields are binary and
           users can't login, do not see constants, ...
         - admin/console.php3 now allows run any php script including calling
           AA functions. Only superadministrators could use it (after they
           uncomment one "exit" line in the code.
         - New possibility to delete more than one slice in one step on slice
           deletion page. You can also delete slices, which are not marked
           as deleted.
         - new possibilty to use Local URL Picker as input type
           Thanks to Omar Martinez / Jaime Torres
         - Superadmin is now able to change posted_by field through
           "Modify content" feature of Admin interface
         - New {expresions}
             - {log:number:base} for logarithm
             - {unpack:pcked_id} for unpacking packed id
         - es language files updated (just 2 additions)
         - fixed bug "When you add a value in a hierarchicalConstant it
           does not respond to the onChange triger on the mainbox"
           Thanks to Omar Martinez
         - fixed feeding bug - the items was rewritten or imported once more
           if they was edited in the source slice
         - fixed small bugs
         - begin the work on aa_synchronize.php3 script, which allows to sync
           setting of two similar AA installs or just slices
07/27/06 - moved from CVS to SVN (Subversion)
(honzam) - "Modify Content" group operation in Item Manager is improved. It uses
           new AA_Transformation API, so new transformation function could be
           easily added. There is new "Translate" transformation, by which you
           are able to transform one value to one or more values. It works also
           with multivalues. It uses new TabWidgetToggle for parameter setting.
         - New possibility to change URL of uploaded files/images (per slice
           basis). Images was stored with general AA URL for all slices, which
           is not always what you want. Now you can redefine it on slice setting
           page. Not 100% finished, yet.
         - Session IDs are propageted via cookies (if possible - if not, URL
           parameter used - just as before)
         - AA_Slices and AA_Views classes used for slice/view properties,
           where possible. Those classes caches slice/view properties, so it
           reduces number of database calls.
         - Started work on AA_Components class used for plugable classes.
         - Started work on TabWidgetToggle - Widget, which allows you to set
           different parameters for different options in the selectbox above.
           Say you want to inport data from CSV or XML - for both formats
           you have to set another parameters, so you first select the CSV
           and the parameters like "delimiter" apears on the screen
         - Started work on AJAX editing - Proof of Concept - you can use it like
             {ajax:{_#ITEM_ID_}:headline........[:_#HOW2SHOW]}
           which means, that _#HOW2SHOW for _#ITEM_ID_ will be printed inside
           the div and after click on it the textfield for headline........
           is displayed and the field could be directly edited. It works
           in AA Item Manager as well as on public page - you just need
           to attach javascript/ajax.js to your page. It is just experimental
           version, yet.
         - Started work on AA_ChangesMonitor class which will track the field
           changes/history - we are still at the beginning, here.
         - New class AA_Fields holding information the field information
         - New AA_Metabase class which will be used to hold all the informations
           about table structure. It will be additional database abstraction
           layer.
         - New AA_Condition class for conds[] handling
         - aainputfield renamed to AA_Inputfield
           (used new naming convention for AA classes).
         - views class renamed and AA_Views. AA_Views was improved to use static
           class variable to cache the view properties which reduces the number
           of database queries. Static class variable also allows us not to use
           global variables for that cache.
         - grabber class renamed to AA_Grabber, saver class to AA_Saver
           and moved to grabber.class.php3 file

--------------------
07/14/06 - v2.10.0 - stable release
--------------------
07/14/06 - new possibility to display HTML comments before and after the view
(honzam)   by checking the checkbox in view setting - good for debug
         - mail template for sending discussion comments to users is grabbed
           from FIRST discussion view of the slice, if the view is not asociated
           in Fulltext setting, for some reason
         - fixed sending of test e-mail to Readers
         - language files updated
         - optimize/reapair framework disabled by default in test.php3
06/30/06 - added object_text, object_float, object_numeric tables
(honzam)   to the databaase used as general object store
06/27/06 - fixed RSS and AARSS feeding - short_ids are not incremented after
(honzam)   each feeding - Feeding moved to grabber/saver API
         - improved usability of Admin interface of View edit - you will stay
           on the view setting after save (not moved to list of views)
         - {rss:...} alias now replaces also "& " by "&amp; "
         - SELECT + INSERT/UPDATE used instead of REPLACE SQL command. REPLACE
           is not implemented in many DB engines and it also do not work
           correctly with autoincremented values in MySQL
         - fixed form validation for multivalue fields
           (it did not work correctly for example for numeric fields)
         - fixed bug in SQL query for mapping fields (query failed on MySQL 5)
06/14/06 - fixed security problem with require - requires no longer use
(honzam)   variables (see http://secunia.com/advisories/20299/)
         - new possibility to use aliases and fields from Reader Slice
           in Alert's e-mails. Now it is possible to create personalized e-mail
           templates, so the e-mail could look like "Dear Mr. Rosicky, ...".
           You can use the aliases in welcome e-mail as well as in alerts e-mail
         - Alerts test page is rewritten, so you can select from list
           of associated Readers and send the e-mail as if it is sent on regular
           basis to that user
         - new AA expressions which is based on f_t alias function modifiers
           Instead of {alias:headline........:f_t:some_text:striptags} you can
           write {striptags:some_text}. The same it is for
               - {rss:some_text}
               - {csv:some_text}
               - {safe:some_text}
               - {javascript:some_text}
               - {urlencode:some_text}
               - {conds:some_text}
           There is also new {substitute:some_text} which simply expands
           the text (finds aliases and substitute) and
           {convert:some_text:from:to} for character encoding
           (like: {convert:some_text:windows-1250:us-acsii})
         - database structure updated to better work in MySQL 4 and MySQL 5
           (columns with packed ids are marked as binary, so it is not converted
           during import by MySQL characterset feature)
         - fixed problem with COMMENTS used on MySQL 3
           (which do not supprt this feature)
         - fixed problem with SQL JOIN command in MySQL 5 in Links module
         - csv import rewritten to allow periodical feeding of the data from
           url/file (not completed yet)
         - added number of displayed items near to page-scroller
         - there is no longer need to add slice_id parameter to itemedit.php3
           script if called from public pages. You can just provide id
           (the slice_id is then grabbed from the item). Internaly we slightly
           modified the character encoding handling in html header of input form.
         - fix: removed additional line breaks in text e-mails
         - fixed windows-1250 to us-ascii conversion (used for example as
           view.php3?vid=123&convertfrom=windows-1250&convertto=us-ascii)
         - changing of headline........ field enabled in
           "Admin" -> "Change field IDs"
         - new AA_Alias/ AA_Aliases class for better Alias handling
           (internal change)
         - FILEMAN_MODE_FILE and FILEMAN_MODE_DIR for file uploads changed from
           variables to constants (which is more safe)
05/25/06 - added new rss option to f_t function
(brazda)
04/24/06 - new parameter convertto and convertfrom for view.php3 which changes
(honzam)   character encoding
           (http://examle.org/aa/view.php3?vid=22&convertfrom=windows-1250&convertto=utf-8)
         - fixed bug in synchronization with Apache auth module -
           tables auth_user and auth_group are not cleaned after Reader
           Management Slice is updated, but they are filled with correct values,
           now
         - new insert type Date (just logically saparates text and date inputs;
           internaly it bahaves just like text field)
         - better behavior of File upload field when checked as Required. There
           is no longer need to fill upper field in the inputform. However, it
           is still not perfect since the content is checked before we move
           the file to destination directory, which might sometimes fail
04/19/06 - authors can now see all items in related item window but they
(brazda)   can edit only their own items
04/07/06 - added priority field for slices (modules), so you can reorder
(honzam)   the modules in top-right selectbox
         - top-right slice/module selecbox is now generated as external
           javascript file (cached), so the admin pages are loaded more quicker
         - new {now} alias (returns current time as timestamp, so you can use
           it in compare functions)
         - new "clear pagecache" option in test.php3
         - fixed problem with fileuploads - new directory for slice is created
           with the right permissions, again
         - fixed bug in offline filling - the HTML falg was not accepted
         - fixed bug in the unaliasing of parameters of field input functions
03/27/06 - Updated database structure (sql_update.php3)
03/21/06 - Added support for unaliasing of parameters of field input
(brazda)   functions. Now you can use any {} AA expressions in parameters
           (e.g. conds[0][switch..........]={user:switch..........} in
           combination with user settings from ReaderManagement module).
03/16/06 - small improvement of sitemodule UI - standard widgets used, where
(honzam)   possible
03/15/06 - new {ifset:<aa_expression>:<aa_output>}
(honzam)   If <aa_expression> is filled by some text, then print <aa_output>.
           <aa_output> could contain _#1 alias as shortcut for <aa_expression>
           condition, but you can use any {} AA expression. Example:
              {ifset:{img_height.....2}: height="_#1"}
         - There are new links to View-edit page under each textarea, which
           contain {view.php3?vid=...} so you can easily navigate between view
           settings
         - Fixed some language constants
03/02/06 - new {ids:<slice>:<conds>[:<sort>[:<delimiter>]]} syntax, which
(honzam)   returns long item ids based on on conditions  d-... (like in views)
           Example:
              {ids:6a435236626262738348478463536272:d-category.......1-RLIKE-Bio-switch.........1-=-1:headine........-}
           returns dash separated long ids of items in selected slice where
           category begins with Bio and switch is (=) 1 ordered by headline
           descending. The main usage is with {item..} syntax - just like:
               {item:{ids:...}:_#HEADLINE}
         - new Conditions and Sortorder classes (used for conditions...)
02/28/06 - New test environment. Created new abstract class Optimize (test.php3),
(honzam)   from which you (as programmer) can create new testing and possibly
           repair scripts. For now we have two tests/repairs
             - finding unnecessary duplicate records in relation table
             - conversion of permissions for items, which was filled by some
               reader from Reader slice.
           Run /test.php3 for more details.
         - HTMLArea generates shorter <p> tags (instead of javascript nonsence)
         - Fixed deletion of temporary uploaded files
         - SQL query optimalization in perm_core.php3
         - Fixed bug with Links module - in some specific cases the link was
           not updated
         - Fixed caching problem - the cache is not invalidated as whole after
           site update
02/19/06 - Discussions updated
(honzam)     - author/email/url is stored in cookies, so readers do not need to
               fill it twice. No new setting of discussion is needed -it works
               as is.
             - Authors of the article as well as authors of the comment could
               be notified about new posted comment by email
               see: http://actionapps.org/en/Interacting_With_Your_Audience#Tip_2:_New_comment_notification
         - {item:<ids>:<aa_expression>[:<delimiter>]} code now allows to specify
           more than one ID in <ids>. <ids> should be dash "-" separated
           and could be in short as well as long form. You can specify also
           record delimiter as fourth parameter. If not present no delimiter is
           used. Example: {item:53443-54322-53553:_HEADLINE:, }
         - "Modify content" function of AA admin interface improved:
              - now is able to set/unset also HTML/text flag
              - now also able to copy content of another field
                (exactly as is - including multivalues!)
         - You can display all informations about specified item
           on "AA -> AA Finder" page, now
         - CSV import improved
             - fixed problem with tabelator as delimiter,
             - code converted to standard Files::upload functions
         - Slice name with link is now displayed on "Admin -> RSS Feeds" page
         - Fixed PHP5 related bugs
             - New configuration variables DB_CHARACTER_SET and
               DB_COLLATION_CONNECTION which is needed by MySQL 4.1 and PHP5
               when you do not want to comunicate with database in UTF
             - Offline filing now do not crash on WDDX_unserialize (php5 bug).
             - "30 Nov 1999" date bug
         - The data for offline filling could be submited not only in offline
           parameter, but you can send it also as uploaded file
           (in offline.php3)
         - Fixed problem with uploads to the "Slice Setting Fields"
         - Fixed some problems with setting permissions to users from Reader
           Management slice (bugs introduced by changing identification of users
           from login name to item_id some time ago (08/30/05))
         - Fixed site/slice caching
             - now invalidated after spot move...
             - the cache is not cleared completely after slice setting change,
               but only for current slice (and all related views and sites,honza
               of course)
             - view cache now count with all set[] parameters, so the view is
               generated well even if you use set[] command for nested view
               (just like in view.php3?vid=1781&set[997]=selected-759644)
         - Fixed e-mail notify setting page - no wrong slashes added to the text
         - Fixed bug in cross server feeding, which causes relation table
           is filled with the rows where both values are the same
         - New internal API for views which allows to cache views definition
           within one php script call
02/14/06 - fixed a bug in MLXGetText - setlang should be used to set the lang
(mimo)     forcefully
         - &errcheck=1 now works for MLXGetText
02/10/06 - fixed a bug in mlx.php which messed up sharing one MLX Control Slice
(mimo)     between multiple content slice
#
#        (incomplete)
         - hardcoded table for fulltext of discussion do not have width=100%
           now, because it makes troubles in IE on pages with CSS layout
12/30/05 - computed fields can compute also with self content as well as with
(honzam)   content of others computed fields, now
12/23/05 - fixed security problem, when readers was able to read slice_pwd
(honzam)
12/21/05 - HTMLarea/Xinha updated to work with Firefox 1.5 and some small
(brazda)   changes in the plugins (InsertFile)
12/16/05 - now also Reader Management modules are shown in Input type selecbox
(brazda)   on Field settings page
12/15/05 - user data (like password, name, e-mail) is now editable by users
(honzam)   itself (just click on your login name in upper right corner
           of the page - near the "Logout")
         - new {@fieldlist} syntax construct, which lists all field names
           in the item. The syntax is exactly the same as you already know from
           {@category.......1} syntax, so you can use also:
              {@fieldlist:-},
              {@fieldlist:,:<b>_#1</b>}
              as well as {@fieldlist(_#CSV_FMTD):,:_#1}.
           For more info see {@category.......1} or {list:category.......1}
           syntax in the manual.
           Could be used for example to create general CSV export from the slice
              Odd HTML is: {@fieldlist(_#CSV_FMTD):,:_#1}, where
              _#CSV_FMTD is defined as f_t and with parameter:
                  {alias:{loop............}:f_t::csv}.
         - new operators added to searchbar (in ItemManager):
             "not set" (= ISNULL),
             "is set" (= NOTNULL)
           so you can search for items, where specified field is (not) set
         - changed behavior of unary operators ISNULL and NOTNULL - Those
           operators did not work without "value" specified, which was quite
           strange, for unary operators. Now it works without any value
           specified.
         - top HTML for discussions now can contain aliases (and other
           constructs), just like for any other view
         - new configuration option TOEXECUTE_ALLOWED_TIME which defines, how
           long should be processed tasks from "toexecute" queue
         - added better support for bulgarian language translation
         - log class prepared for the possibility to turn off logging
           of specifis events (UI needed)
         - searchform in ItemManager and LinksManager uses GET mathod,
           which is more user friendly
         - discussions code a bit cleaned
         - fixed problem with session on for some special Apache configuration,
           when some server variables are not filled (Bluelink case)
         - fixed all_ids parameter in discussions - now works also for GET,
           not only for POST forms
         - fixed problem with "break;" outside of the loop (APC PHP cache had
           problems with this)
11/24/05 - anonymous wizard refactored a bit, generate better code and is
(honzam)   functional, now (thanks goes to Norbert Brazda for bugfixing)
         - Spanish language translation updated (thanks to Julian Casasbuenas
           from Colnodo)
         - new possibility to remove selected items from database (see "Remove
           (remove from database)" bottom action on Item Manager - Trash page)
         - fixed language constants
11/21/05 - fixed typo in sql_update.php3 - Thanks to Omar Martinez and Misi Bako
11/15/05 - fixed not functional image upload, when we want upload multiple
(honzam)   images and create multiple thumbnails in one inputform
10/01/05 - CSV import is allowed also for editors (see left menu in ItemManager)
(honzam)   and small fixes in CSV imports
         - confirmation of spot delete is now required (in site module)
         - limit group name length in bulk constatnt import to 16 characters
           (which is the only correct value)
         - fix for computed field - the value is updated corectly, if you are
           editing the item, now
         - fixed category tree display (Links module) in Firefox, which did not
           work correctly for huge category trees
         - improved site manager - looks better in IE (but not perfect, yet)
09/27/05 - fixed bug in constant edit (pack_id() error)
(honzam)
09/22/05 - you are able to specify the name for all tabs, when you are using
(honzam)   inputform formbreaks:
              {formbreak:<current_tab_name>:<next_tab_name>:...}
           The names are separated by ":" and are applied to current and then
           other tabs. It is useful mainly for the last tab.
         - new function {preg_match:[0-9]*:some text with number 25452 in it},
           which returns 25452 (based on specified regular expression)
09/21/05 - removed not closed html table tag from images.php in ImageManager
(brazda)
09/14/05 - fix to allow admins to assign slice permissions also to users from
(brazda)   Reader Management slice(s)
09/01/05 - addes action icons to spot actions in site manager
(honzam) - fixed constant editing - the category groups with accents and similar
           strange characters works correctly, now
08/31/05 - fix of no item message - works correctly if you fill 0 in it (zero)
(honzam) - default inputform view for the slice now could be set not only
           from default Profile setting page, but also
           from "Slice Admin" -> "Design - Item Manager" -> "Use special view",
           which is easier to find for users. Both options are equal (stores it
           to the profile)
         - added more description text to discussion view selectbox on
           "Design - Fulltext" page
08/30/05 - new function {compare:<number1>:<number2>} for comparing numbers
(honzam)   (aka dates): Returns:    'L' if number1 is less than number2,
                                    'G' if number1 is greater than number2,
                                    'E' if the numbers are equal.
           Usage example:
            {switch({compare:{last_edit.......}:1125481998})L:less:G:more:equal}
         - user_id for users authenticated from Reader slice is changed
           from login to more logical and more powerfull item_id
         - fixes in Reader Management permissions combination with SQL
           (perm_sql) permissions
         - some cleanup of the permissions core
08/29/05 - Readers from Reader Management slice could became AA users (now also
(honzam)   on SQL permissions perm_sql.php3 - for LDAP permissions it worked
           from 02/16/04)
           Database structure for SQL permissions is slightly modified in order
           we can store Reader Slice permissions as well. You can run
           sql_update.php3 script or you just change definition of two columns
           in the database:
               membership.memberid change from INT(11) to CHAR(32)
               perms.userid        change from INT(11) to CHAR(32)
08/26/05 - uploaded images can now be resized also exactly to specified
(brazda)   size (e.g. square). Image is resized and croped if needed from
           the center of original image. It can be set-up in parameters of
           "Insert" function for the field on "Slice Admin" -> "Fields" page.
08/26/05 - new possibility to create "Computed field". It is good solution for
(honzam)   all values, which could be precomputed, since its evaluation
           on item-show-time would be slow. Any of your field could be changed
           to "computed" - you just change "Insert" function for the field
           on "Slice Admin" -> "Fields" page. In such case the other setting
           of the field (like Default, Input type, ...) are irrelevant,
           of course. Two prepared field templates (computed_num....
           and computed_txt....) was added to sql_update.php3. Yes, you can use
           any {view...}, {include...}, {switch...} in the computed string
           (in Parameter)
         - fixed /misc/charset/convert.php3 script (which is able to convert any
           text from one encoding to another one) - now works when called
           externaly
08/18/05 - improved CSV import of data. Now you can not only
(honzam)       - "Store the item with new id"
               - "Do not store the item" or
               - "Update the item (overwrite)"
           with already existing items, but you can also select
               - "Rewrite only the fields, for which the action is defined"
               - "Add the values in paralel to current values (the multivalues
                  are stored, where possible)"
         - view parameters now could be combined. You can use
             cmd[65][]=v-66&cmd[65][]=c-1-Cars
           or if you want to display only items from the set which passes the
           condition, you can write
             cmd[65][]=x-82763-82344-82352&cmd[65][]=c-1-Cars
         - new possibility to upload constants from admin interface - see
           "Import constants" on constants editing page
         - fixing moveLeft and moveRight in sitemodule administration
         - added new field types based on suggestion of Philip King and Antonin
           Slejska:
           (name, phone, fax, address, location, city, country, range, real)
         - some cleanup
08/01/05 - fixed bug in site display (honzam)
07/26/05 - new site module admin interface design (thanks to Colnodo)
(honzam) - year selectbox always show the year of the filled date
           (so the previously filled years are never lost)
         - all selectboxes should always show the filled value, even if
           the value in not in the list
         - fixed return url from Slice Field Setting page
         - fixed feeding mapping setting - the special option (like "--Value--")
           is shown again
         - fixed alerts sending problem - it did not work for some slices
           (the one with backslash in packed_id, for instance)
         - fixed problem with Edit used/Add user, the right user is displayed
           after update
         - fixed searchbar - the operator in the condition is not lost
         - fixed field default function - qte is no longer used, since it is
           the same as txt
         - fixed link to AA general documentation in doc/index.html
         - fixed quoting problem in feeding (\") appears for some feeds data
06/28/05 - new dynamic "slice setting fields" implemented - now you have
(honzam)   the possibility to add "slice fields" (just like you do with normal
           item fields). Such fields then can be used for slice setting common
           to all items. Such fields are prefixed by underscore (automaticaly)
           and you can access it through {alias:_field_id.......:f_e:slice_info}
06/27/05 - fixed problem with sql_update.php3 - creating toexecute table syntax
(honzam)   error. The download files on sourceforge are updated.

--------------------
06/26/05 - v2.8.1 - stable release
--------------------
06/26/05 - new possibility to define Row Delimiter in view
(honzam)   updated config file - removed unused options
06/23/05 - feeds are taken in random order which leads to more fault tolerant
(honzam)   feeding in xmlclient
         - fixed script for generation of language files - now finds also text,
           which is inside quotes (like in HTML abtibute hidden php code)
         - language files updated (thanks to Julian Casasbuenas and others)
         - PHP5 fixes
         - changed strings to match new upcomming version 2.8 of AA
06/20/05 - fillform.php3 tries to set all the inputs, which was sent by $_GET
(honzam)   (when fillConds=1 parameter used)
         - fixed toexecute class - now works well even if the list of task
           is BIG (=can't be loaded into memory)
         - the id of the site module is marked automaticaly as cached (no need
           to add it to $slices4cache array manualy in site control file)
06/16/05 - fixed multilingual MLX extension - now works again
(honzam+mimo)
06/15/05 - pagecache now takes care about cookies as well - the page is not
(honzam)   generated from cache if user have different cookie
         - better handling of paragraph in HTMLArea (Xinha) - no javascript
           generated for each <p> tag
         - fixed HTMLArea (Xinha) initial size in IE (now it is bigger)
         - fixed problem wiht anonymous form item editing
         - fixed cross server feeding
         - fixed CSV import
         - fixed alerts sending bug - now it works, again
06/08/05 - Added support for slice_field to Realted Item Window
(mimo)
06/02/05 - "selected" parameter of view.php3 now accepts short id as well as
(honzam)   the long one
         - strings in AA uses "ActionApps" name instead of "APC Action Apps"
         - fixed filler.php3 (anonymous posting) so apostrophes are not prexixed
           by \ sign
         - fixed problem, that unpacked_id..... was not filled correctly for all
           items of the view
         - fixed category selection in Links module
06/01/05 - fixed syntax bug in discussion administration
(honzam) - fixed problem of adding backslashes to offline filling items
         - fixed bug in htmlarea image manager - the message about unsupported
           gif is not fired, now
         - fixed bug with inserting items from second slice
         - fixed syntax error in fillform
05/30/05 - Used Xinha (http://xinha.python-hosting.com/) instead of HTMLArea
(honzam)   (Xinha is not new fork of HTMLArea - better maintained, ...)
         - New "store policy" could be applied to uploaded files - you can use
           new | overwrite | backup options - see parameter wizard
           for "Insert function" on Fields setting page
         - Changed ActionApps logo Thanks to Sarka Vasku
         - Buttons are also on the top of inputform
         - File uploads are handled by new standard AA Files.class library for
           inputform, CSV import, Filemanager, Word/Excel/RTF... file convertor
         - Modify Content function of admin interface now invalidates cache
           for changed slices
         - fixed bug with adding slashes to fields during CSV import
         - fixes in order AA generates valid HTML code in discussions, ...
         - fixed links (& / &amp;) to preview on input form, slice creation link
           and discussion links
         - fixed typo in site module which prevent users from updating site
         - fixed caching of discussions in site module
         - fixed normal slice feeding of items (added missing feeding include)
05/03/05 - aliases setting converted to standard Frm* functions, which BTW
(honzam)   solves the problem of loosing backslahes in date format string,
           as reported by Philip King on apc-aa-general 2005-05-01
04/29/05 - fixed onSubmit javascript trigger behavior - it is handled correctly
(honzam)   even if the form is using "return BeforeSubmit()" - Thanks to Omar
           Martinez @ Colnodo
         - fixed some bugs "exact" mode interserver feeding
         - feed_mode displayed in APC RSS feed test page
         - itemview class prepared for row_delimiter parameter which will allow
           to print code between items in view
         - fixed include paths to be absolute and not relative. Relative paths
           in require_once makes some problem on AA install on WinXP.
           Thanks belongs to Omar Martinez @ Colnodo
         - fixed link to javascript triggers documentation (FAQ)
         - fixed link to group setting (from permissions setting page)
         - fixed QueryZids()'s "ALL" parameter for searching all bins
         - fix sql_update.php3 - removed config and d_expiry_limit fields
           from slice table - was unused for a long time
         - fix - Anonymous Form Wizard result is in correct encoding, now
         - speed optimalizations and small fixes like typos delimeter->delimiter
04/25/05 - new possibility of ceating exact copy of the remote slice through
(honzam)   AARSS (XML exchange) (only short_id is changed)
         - ItemContent class used for grabbing data from form - newer
           Object Oriented approach applied
         - "Anonymous Form Wizard" and "Inter Node Import setting" optimized -
           converted to standard inputs
         - a bit more beauty code - some coding standards setting applied
         - new set[]=group_limit parameter, so it is usable also for views
         - file upload functions cleaned and generalized
         - fix - sort all listings by publish_date in case no sort is specified
04/20/05 - change value of constant with "propagation to items" is much quicker
(honzam)   on Slice Admin -> Fileds - Edit -> Constants - Edit, now
           constant value could be 255 characters long (instead of 149)
           (you do not need to update database tables for this change)
         - fixed bug - content of the view was wrong modified by slices[] url
           parameter. Now it is not modified by slices[] parameter.
           You can still use set[23]=slices-6556666355368859... parameter
04/19/05 - HTML generated by AA on public pages (pagescroller, ...) is valid
(honzam)   (& in urls are replaced by &amp;)
         - Hint, how to add HTMLArea to anonymous form is added to the anonymous
           wizard code
         - fixed left admin menu for Bulk e-mail sending (Reader slice)
04/15/05 - new possibility to Enable/Disable specified spots in the site module
(honzam)   interface
         - small bugfixes in site module code; code cleaned
04/11/05 - new possibility to specify "group limit". Group limit is used
(honzam)   for limiting number of items from one category. If you want to list
           items grouped by category.......1, but you want to see just first
           three items from each category, then you could use "group limit".
           You can specify it as:
             3category.......1-
             (limit to three items from category.......1 - descending)
             for "order" slice.php3 parameter, or "sort" view.php3 parameter.
           Another usage is:
             sort[0][category.......1]=d&sort[0][limit]=3
             for slice.php3
           (it is also good in case you want to list all categories header,
           in which is at least one item - you can just set limit to 1)
         - conditions (conds[]) now could contain also long (unpacked) ids
           for id item field
         - new possibility to define, how the Related Selection Window listing
           should look - define view for it
         - the records with the same key and value is not listed twice
           in the inputform selectboxes
         - fixed dicussion caching - the cache is now invalidated correctly
           after user sendinds the post to the discussion
         - fixed slice.php3 content caching - it was broken since we added
           _#SESSION_ alias, which was different each time the slice.php3
           was called. Now it is done better way (f_e:session) function
         - searchbar now uses better help texts for date fields (the help text
           is in "value" field, not in "operator" field)
         - fixed counting of links in categories (Links module)
         - new possibility to generete standard gettext .PO language files
         - used longer database types for some fields (sql_update.php3)
           (like fulltext_format of slice, view - 2^16 is not enough for some
           aplications)
         - removed all mysql specific functions from perm_sql.php3 (it was last
           place in AA, where we did not use database abstract layer)
         - fixed author/editor security problem in Related Selection Window
           (thanks to Norbert Brazda)
         - category_sort field is now filled by 0 and converted to group_by
           field, when compact view is edited (for very old AA slices). This
           field is there only for backward compatibility - now we use better
           approach (at least three years) - group_by
         - corrected some database queries for easier migration to other
           database engines
         - hierarchical constants are now better handled in inputform - we use
           alias for javascript, which defines the constants, so it is possible
           to change the look of the form without specifying the constants there
         - small speed optimalizations (split() -> explode())
         - imagecopyresampled used instead of imagecopyresized - better image
           (thumbnail) quality generated (based on Norbert Brazda suggestion)
         - new cacheDb(), cacheMemDb(), cacheMem() functions, which joins
           pagecache and contentcache together
         - speed optimalization, set bigger time limit for dictionary aliases
         - improved toexecute class - time measurement implemented so we can run
           as many tasks within given time as possible
             - it allows execute many small tasks or only one big one
         - RSS feeds is able to decode diferent character encoding
           (thanks to Norbert Brazda)
         - better logging of alerts
         - fixed typo in category description cat-description field
         - laguage files updated
         - small fixes/security fixes
02/22/05 - new logout functionality (logout from admin interface)
(honzam) - fixed {include:/directory/file.inc} construct - corrected url when
           file starting with slash
         - fixed sql_update.php3 for MySQL 4.1
         - LDAP configuration updated (again)
02/20/05 - Added MLX mini view to display list of alternative translations for
(mimo)     an article
           {mlx_view:view format in html} mini view of translations available
                                          for this article does substitutions
                                          %lang, %itemid
           e.g. {mlx_view:<a href='?x-_#SITEMID_-&mlx=%lang'>%lang</a>}
         - Fixed a problem in MLXGetText I had already fixed in 1.15
         - Finalised reverse relation thing below
02/18/05 - fixed a bug with mutual/reverse related items:
(mimo)     when adding a new reverse relation it used to keep an empty
           text content, so one reverse relation were 2 entries in the
           target content. The fix deletes '' text relations from the target
           content.
         - minor mlx fixes
02/11/05 - other LDAP fixes for its new version - updated documentation
(honzam)  and configuration (thanks to Jiri Reischig)
         - e-mail is now marked as "required" on setup screen
02/10/05 - fixed LDAP configuration and documentation (thanks to Jiri Reischig)
(honzam) - view of constants now have also "Remove strings" option
02/08/05 - updated LDAP documentation and LDAP config files for LDAP v.3
(honzam)   (OpenLDAP v.2) (thanks to Jiri Reischig)
         - fixed e-mail validation functions to accept also domains like .museum
         - new modificator for f_t alias function - conds - allows you to call
           view with conds, just like:
              {view.php3?vid=9&cmd[9]=c-1-{alias::f_t:{_#VALUE___}:conds}}
         - better pagecache handling in site module (small fix)
02/03/05 - added 'integer' field type so searches and sorting can be done
(mimo)     numerically
01/29/05 - new {str_replace:search:replace:subject} aliase construct
(honzam) - {dictionary} now creates also links for all the words with first
           letter in uppercase
         - added new value for nocache slice.php3 and view.php3 url parameter -
           nocache=invalidate. It not only create the page without cache,
           it also clear the cache for all views used in generation of the page
         - new fix=1 parameter for alerts.php3 - if set, then send only e-mail
           to not processed collections
         - AA generates as short url as possible
           (sometimes only parameters "?x=17232" - see f_b, f_f)
         - parameters for user alias functions f_u are expanded before call user
           functions
         - fixed some help texts for Parameter Wizard
         - removed unused fields form slice table
         - added some debug messages written to the AA log for alerts
         - standard QueryZids() function used for readers collection in alerts
01/20/05 - fixed a problem in MLXGetText and added {mlx:setlang:(LANG_CODE)}
(mimo)     macro
         - added MLX_OPTIMIZE, if >5 it should speed up MLX results
01/13/05 - words for {dictionary} feature are not replaced, if it is just
(honzam)   substrings of another (bigger) words (thanks to Hana Havelkova)
         - added favicon for AA (thanks to Sarka Vasku)
         - new aliases for slice.php3:
             _#SESSION_ - session id
             _#PAGE_NO_ - number of current page (on pagescroller)
             _#PAGE_LEN - page length (number of items)
         - added loging to alerts sending (how many mails sent, begin and end)
         - fixed HTMLArea for en-utf8 (english UTF8) language
         - fixed typo in sql_update.php3
01/06/05 - discussions are not cached now, so there will not be problem
(honzam)   with unupdated list of comments
         - pagecache fixes
         - fixed bug in "links" module - category crossreferencing works also
           for catalogs, where you can crossreference deeper category
           ("select start") than is your "tree start"
01/04/05 - new implementation of pagecache - uses two tables - pagecache
(honzam)   (as the old one) and pagecache_str2find table. It should bring much
           quicker pagecache invalidation, when the content must be updated.
           Database update (sql_update.php3) for new table is needed.
         - fixed bug in Related Item Window input type - related items from
           trash are displayed correctly, now
12/30/04 - new "Toexecute" class used for e-mail sending - e-mails are not send
(honzam)   in one run of the script. It is rather send from AA cron, so the load
           of the server is lowered
         - slice name displayed on itemedit form
         - new possibility to change date for discussion comment from AA admin
         - e-mail's "From:" address is required, now
         - the "Errors-to:" header form generated e-mails is supplied
         - fixed bug with anonymous form creation (thanks to Omar Martinez)
         - fixed typo in view edit form
         - fixed pagecache bug
12/24/04 - {dictionary...} formating construct now do not search in SCRIPT,
(honzam)   H1-6, A tags as well as  inside tags itself
12/16/04 - new Input type: Multiple Text Field - allows to enter more than one
(honzam)   (multiple) values into one field (just like when you select multiple
           values from Multiple Selectbox). The new values are filled in popup
         - new edit possibility for related items from itemedit
         - fixed adding item to related slice
12/14/04 - new possibility to open inputform to popup window and fill item
(honzam)   to another slice during filling in another item in the current slice
           (used in Related Item Window - enable it by 'show actions' parameter
           of "Related Item Window" input type)
         - prepared for improved pagecache implementation; generalized API
         - code improvements - used OOP more (slice object, zids)
                             - reduced ussage of global variables
         - small javascript files reorganization
         - discussion buttons texts are unaliased now (you can use aliases, ...
           there
11/26/04 - think I fixed the _#ITEMINDX problem, that subviews would make
(mimo)	   it invalid for parent views - now using a stack
           (see item.php3 and itemview.php3)
         - disabled the caching in MLX postqueryzids,see comments in MLX for why
         - added a mlx import function, in /misc/mlx/import.php
11/23/04 - any AA format-string could be used for displaying selects from
(honzam)   related slice (not only 1 field like headline........). You can place
           the format-string in "slice field" parameter for the Input Type.
           It works for all Input Types allowing displaying selections from
           a slice, like Selectbox, Two windows, Multiple Selectboxes,
           Radiobuttons, Multiple checkboxes...
         - new dictionary feature
           You can create "dictionary" slice, where each item will contain
           a word (in keywords........ field!) and url in other field (and
           possibly any other fields). Then you can use this "dictionary" slice
           in your own slice to add links to "dictionary words". You can do it
           by alias construct:
             {dictionary:<dictionary_slice_id>:<output_text>:<format>:<conds>}
           where - dictionary_slice_id is id of "dictionary slice"
                 - output_text is the text, where you want to search and replace
                               for dictionary words,
                 - format specifies, how to replace the keyword
                 - conds is optional parameter, where you can filter only subset
                   of used keywords from "dictionary slice". The syntax is
                   normal conds[] array like:
                   conds[0][category........]='myDict'&conds[1]...
                   (simplified as well as extended syntax)
           Example:
             {dictionary:4394e6117a0d66fee7cb49ffab9015d2:{_#FULLTEXT}:
             <a href="_#KEYW_URL">_#KEYWORD_</a>}
           _#KEYWORD_ is special alias, which could not be defined in the
           "dictionary slice". The reason, why we use it is, that you can use
           Multi value field as keyword (in keywords........). It is good
           to have only one dictionary item for one word (like APC) and then
           define multivalue for keyword, where you can fill "APC", "apc",
           "apc.org"... It is important for English, but it is crucial for such
           languages as is Czech with different kinds of words.
           Note: Use this feature mainly for fulltexts of item and not in
                 item-listing, since it is not so quick, at this moment.
11/18/04 - fixed a caching bug in include/view.php3 when using mlx
(mimo)   - fixed duplicated code in include/view.php3

11/18/04 - added "id" and "short_id" definitions to fields table for each slice,
(honzam)   where the definition is missing. It allows searchbar in Item Manager
           to create filter also on Short id field, ...
         - added missing nolinks field to links_categories table in sql_update
         - default empty option for selectboxes is on the top of list
           (not the bottom), now
         - MySQL - fixes for 4.1 (works without problems, now)
            - table columns in queries are enclosed by apostrophs (`column`)
            - trying to simplify queries to MySQL can use indexes better
         - alerts sending script (modules/alerts/alerts.php3) could be called
           also from real - system cron (reads also commandline arguments, now).
           The benefit is, that the script then can run as long as you want -
           it is not stoped be Apache after 2 minutes or whatever is set
           in TimeOut. The commandline could look like:
               # php alert.php3 howoften=weekly
           or with 'nice' and allowing safe_mode (for set_time_limit)
           and skiping to right directory for example:
               # cd /var/www/example.org/apc-aa/modules/alerts && nice php
                 -d safe_mode=Off alerts.php3 howoften=weekly
           The command above could be used from cron.
         - Links module improvements
            - fixed "Change state" for categories - it could by highlighted now
            - fixed "general categories proposal from public"
            - new possibility to restrict category list on output by l_p alias
         - fix of "{user:...} alias"
         - fixed e-mail validation for 4-characters domains (.info)
         - better "end of paragraph" detection for f_a - abstract function
         - better setting of slice.php3 cache - now the cache hit is much more
           probable (clear_url (with session ID!) is not in keystring, now)
11/12/04 - fixed HTMLArea 3.0rc1 support (honzam)
11/11/04 - Two Boxes input type (as well as some others types) now are able to
(honzam)   display not only name of the constant, but any other field from
           constant table (like value, priority, short id, ...).
           You will do it by inserting const_name, const_value, const_pri, ...
           keywords in "slice field" parameter (you will see the parameter
           in the parameter wizard
11/08/04 - Hierarchical Constant Editor could be used more than one on the page
(honzam)
11/06/04 - Link module improved
(honzam)   - new class for link management
           - completely changed handling of general categories (full automatic)
         - new HTMLArea 3.0rc
         - new possibility for cached javascripts (used in links module)
           (dynamicaly generated javascript is stored into database and then
            is included to the HTML file as external javascript file. Advantage
            is, that when the content of js is not changed, yhen the external
            file is not loaded (so it is quicker) - prooved with Apache log
         - prepared new item action - move to different slice (item manager)
11/05/04 - MLXGetText added (based on Honza's {_m:); will post instructions
(mimo)     on http://mimo.gn.apc.org/mlx/
           - {mlx:addslice:slice id:language[:domain[:mode]]} (domain defaults
             to global) use mode=learn to enable adding new items to the slice
             for unknown strings e.g.
             {mlx:addslice:3a0c44958b1c6ad697804cfdbccd8b09:{l}:IWPR Site:learn}
           - {_m:text to translate[:param1:param2:..]}
             {_m:Test %1 and %2 and %3:bla 1:bla 2:bla 3}
             would give 'Test bla1 and bla2 and bla3' in EN
           - {mlx:setdomain:domain} set MLXGetText to use this domain
         - removed my {include:file:filter} nonsense
10/25/04 - New {include:file:file:method1[:method2[:...]]}
(mimo)	   This calls filter methods method1, method2,.. on global object
           $GLOBALS[filter] after reading the file. Very nice with site module.
           Member function is called like this: method1(&$fileout,&$args)
10/20/04 - changes to {include} -- extended support for a very specialised
(mimo)     readfile mode
         - MLX: now using packed id for storing MLX control slice
10/15/04 - view.php3 now with MLX support for fulltext (single item) views
(mimo)     e.g. cmd[11]=x-1280&set[11]=mlx-DE will display the German version of
                the item with shortid 1280 instead of item 1280
10/14/04 - new {include:file:readfile} reads file contents, file is relative to
(mimo)     $_SERVER["DOCUMENT_ROOT"]
10/11/04 - Added script support, mlx.php has its own mappings table which
(mimo)     indicates what kind of DIR to use for controls in the Add/Edit Item
           This gets passed through a global mlxFormControlExtra to formutil
           - changed formutil to include the value of this global
           - added a new utf-8 language file and a language def en-utf8 which
             can be selected in the slice settings
10/06/04 - Added MLX support for views and finetuning slice settings interface
(mimo)     Parameter for view.php3
           - set[vid]=mlx-(lang)-(lang1)-..-(MODE) same as for slice.php3
10/05/04 - Totally reworked MLX, now using packed ids for storing MLX info
(mimo)
10/04/04 - Added Multilingual Extension - dont use yet (mimo)
             - mlx in URL to slice.php3
         - Slice Settings MLX field
         - Additions for MLX look&feel in tem manager
         ... more here http://mimo.gn.apc.org/mlx/
10/01/04 - new {str_replace:<search>,<replace>,<string>} alias function'
 (honzam) - improved f_a (abstract grabbing) alias
          - documentation: changed cvs login information to match current
            sourceforge state
          - fixed bug of not parsed spots in new (copied) site module
          - e-mail is now mandatory for AA user
09/20/04 - Fixed buggy hierarchical constant editor (honzam)
09/07/04 - The value of Display counter could be set be CSV importer of itemform
(honzam) - bugfix - html flag for CSV import now works
09/06/04 - List of "related" items in inputform could be now filtered for most
(honzam)   input types. You can specify:
             - Conditions in conds[] array
             - Ordering of items in sort[] array
             - Bins from which you want to display items
             - Field to be shown (as option).
           This works for: Selectbox, Multiple selectbox, Multiple checkboxes,
           Two boxes, Radio buttons, and Text field with presets input types
           (sponsored by Philip King, thanks)
         - new "Form parts" feature - you can split the inputform to two or more
           subforms, where you can switch from one to another by clicking
           on the tab header. see {formbreak} alias in bottom HTML code
           for field. (sponsored by GreenNet, thanks)
         - List of "related" items in inputform could be now filtered for most
           input types. You can specify:
             - Conditions in conds[] array
             - Ordering of items in sort[] array
             - Bins from which you want to display items
             - Field to be shown (as option).
           This works for: Selectbox, Multiple selectbox, Multiple checkboxes,
           Two boxes, Radio buttons, and Text field with presets input types
         - charset conversion now works in case both charsets are the same,
           as well
09/03/04 - new French language support (submitted by Marek Tichy)
(honzam) - dview parameter (discussion design switcher) for slice.php3 now
           accepts "0":    dview=0 - no discussion printed
         - new slice.php3 all_scr=1 url parameter - scroller show also "All"
           option to show all items on one page.' slice.php3
         - added short_id and id field definitions - it allows searchbar in
           Item Manager to create filter also on Short id field
         - date format fix for cross server exchange - fixes wrong user data
           format
         - added "Show" button which displays output of the view in view admin
         - dates in discussion admin contains also year, now
         - fixed bug in File upload Input type - it didn't show "Browse" button,
           if "Accept" input parameter wasn't specified. Now it uses default */*
         - "Field to show" could be specified in Multiple Selectbox input type
           for slices
         - new _#PAGEINDX alias - index of item within a page (it begins from 0
           on each page listed by pagescroller) as opposite to _#ITEMINDX which
           contains index of item within whole listing
         - better paragraph detection in f_a alias function
         - new url_base parameter for Link module l_p alias function
         - new AA_USE_NON_PERSISTENT_CONNECT configuration option - use MySQL
           persistent connections or not?
         - bugfix - moving spots up and down in site module admin now work
           correctly also for last spot in the sequence
05/27/04 - new /misc/charset/convert.php3 script, which allows you to encode
(honzam)   a text to another character encoding. It is usable outside of AA.
           The ussage on shtml page:
           <!--#include
             virtual="/apc-aa/misc/charset/convert.php3?from=iso-8859-1&
             to=utf-8&source=http%3A%2F%2Fwww.apc.org%2Fpage.htm" -->
         - bulk email sending and alerts sending now should not end after
           timelimit. Now we have 2 minutes for each 20 e-mails.
         - feeding mapping for external feeds could now contain expressions
           (if "--value--" is selected) - just like in local feeding. So, you
           can do write {switch()} expression for status code, ...
         - if you "clear" searchbar in manager, then wrong values was filled
           in the order bar. Now it is fixed.
         - fixed link tag for APC AA RSS export (in order it could be used
           for RSS1.0 readers)
         - fixed bug on group permission page - it works again
         - fixed l_p alias for generating path links in the links module
         - deadlock error of MySQL database is not reported, if we delete
           records from pagecache table, now
         - fixed expansion of aliases, when contain colon character
05/17/04 - anonymous form wizard works again
(honzam) - added AA version info on title atribute of ActionApps logo
           in admin interface
         - added possibility to preview the view from admin interface
         - fixed "category top" and "category bottom" HTML for category grouped
           views and slices - you can use aliases in both this fields and it
           behaves as you could expect, now
         - [952262] fixed translation of "No item found" (and other) messages
           in views
05/15/04 - fixed problem with multivalue fields, when one of the value is empty
(honzam)   (it displayed number). Now we introduced FLAG_TEXT_STORED, which
           helps to determine text/numer stored values
         - fixed javascript error on several admin pages - it tried to display
           HTMLArea link, but the js file was not included
05/13/04 - fixed Cross Server Feeding - filters did not work properly (honzam)
05/11/04 - improved Cross Server Feeding
(honzam)    - added APC RSS and RSS test pages with debug options (see AA menu),
            - better handled categories (possibility to import any category
              (= all items) without change), you can also specify to feed items
              TO THE SAME category (just like for inner feeding),
            - better handled languages - all feeds now encoded and decoded
              to/from utf-8
         - improved all types of selectboxes and radio selections - if the
           content of variable (in the database) is a bit broken so the value is
           not listed in the array, which specifies the selectbox, then now
           the value is also listed in selectbox and is displayed in red
           (by CSS). This behavior make us sure, that we do not loose the value
           if we commit the form with such selectbox. It also gives information
           to user, that something is not right in the database.
           Also the bug for multiple selections was fixed (when empty value was
           selected, the number was written to the database. Now empty values
           aren't written to the DB for text_stored fields in content table
         - CSV import improvements
             - better default field mapping (tries to guess corresponding fields
               by field name),
             - possibility to create item id from any of the fields
               (from string/packed id/unpacked id)
             - better cache handling (invalidated after whole import
         - new parameters for i_s (image size) alias function
             - html    - (default) - returns image size as HTML atributes
                         (height='xxx' width='yyy')
             - width   - returns width of image in pixes
             - height  - returns height of image in pixels
             - imgtype - returns flag indicating the type of the image: 1 = GIF,
                         2 = JPG, 3 = PNG, 4 = SWF, 5 = PSD, 6 = BMP, 7 = TIFF
                         (intel byte order), 8 = TIFF (motorola byte order),
                         9 = JPC, 10 = JP2, 11 = JPX, 12 = JB2, 13 = SWC,
                         14 = IFF, 15 = WBMP, 16 = XBM
             - mime    - returns mimetype of the image (like 'image/gif',
                         'application/x-shockwave-flash', ...)
         - added possibility to display static columns in tabledit (used in
           admin/rsstest.php3 and admin/aarsstest.php3 pages
         - fixed broken admin interface for feeding (Update button didn't work)
         - fixed bug in alerts sending
         - fixed problem with displaying related items
04/30/04 - new "Group Update" possibility, which is used for filling one field
(honzam)   of all (or selected) items in the slice with specified content.
           Items could be selected manualy from Item Manager or by "Stored
           Search" feature (just like in "Bulk e-mail" feature. New content
           could be constant or could be combination of current items field.
           Any AA construct and aliases could be used for there.
         - Cross server feeding improved
            * slice character encoding is now handled properly - it uses
              conversion to utf-8 based on the encoding set for the slice
            * improved category handling - now we get all items and filtering
              is done on client side. New approach allows to download also items
              with not known category
         - slice imported by "slice import" is now imported also with all VIEWs
         - new f_t alias function parameter asis {alias:<field_id>::asis} which
           prints the field exactly as is in the database (regardless of
           HTML/Plain text settings). It is well used in conjunction with new
           "Group update" feature, where we often need the field as is.
         - added "Exported to" information to feedin setting page in order you
           know, where the slice is currently exported
         - the code is prepared for new - cookie based debuging (for programmers
           and superadministrators
         - "Bulk e-mail wizard" is converted to new FrmItemGroupSelect widget
           (used also for new "Group update" feature)
         - added default manager.class design (used for user listing as well
           as for related item selection listing
         - item class uses standard ItemContent class internaly for storing
           item data"
04/29/04 - special field "all_fields" and "all_fields_numeric" which you can use
(honzam)   with slice conditions (search form, ...)
              conds[0][all_fields]="hi"
           will find ANY text field containing "hi"
           You can use this syntax for simplified search conditions as well as
           for extended condition syntax. It is also possible to use
           "united field conditions" like
              conds[0][headline........,abstract........]='Hi'
           as equivalent to
              conds[0][headline........]=1&conds[0][abstract........]=1&
              conds[0][value]='Hi',conds[0][operator]=LIKE
           Number of united field conds is unlimited and you can use it
           in simplified condition syntax as well as in extended one
         - new aliases
             {cookie:<name>}
           which prints content of the cookie of the <name> and
             {item:<item_id_long_or_short>:<field_id_or_alias>}
           which returns <field_id> or _#ALIAS___ substitution for item
           of <short_id> or <long_id> - just like:
             {item:8ebc541d3703e64042cc198e6d0b026c:short_id........}
           or
             {item:171055:_#HEADLINE}
         - new log viewer and searchlog viewer for superadministrators
           (see "AA" menu)
         - designs and setting in Links module could be set also
           by administrator - not only by superadmins
         - default operation in searchbar is "contain", not "begins with"
         - time is incremented in steps also in admin interface, so the state
           of item in admin interface is the same as on the web
         - expired items not shown by default in related item selection window
         - better help text for Node setting (Cross Server feeding)
         - fixed feeding between slices (inner)
         - fixed sending discussion comments to mailinglist
         - fixed convertors (DOC/XLS/...) calling and htmlarea
         - fix logging - it do not report SQL errors when selector or event
           contains apostrophs, ...
         - item manager skips to page 1 if new search is invoked
         - fixed "Stored searched" feature - now works also for editors
         - fixed (old) "restrict" slice.php3 parameter - now works
           with apostrophs
         - fixed url variables passing to php script (add_vars)
04/28/04 - fixed spurious edit=1 in Inputform_url with vid paramater
(mitra)  - fixed permissions on live_checkbox and editbrief from
           PS_EDIT to PS_EDIT_ALL_ITEMS
         - added input_view from profile to _#EDITITEM
         - added ; on javascript in um_gedit.php3
         - added stringexpand_sessurl to expand {sessurl:xxxx}
         - added admin_notiem_msg to sql_update.php3
         - fixes to searchbar when have a profile
         - added {urlencode:xxxxx}
04/01/04 - new Croatian (Hrvatski) language translations. Thank to Igor Hrste
           from Zamir.net
03/26/04 - small fixes and improvements to sql_update.php3 (pep)
03/14/04 - added stringexpand_sessurl to expand {sessurl:xxxx}
         - added admin_notiem_msg to sql_update.php3
         - removed new DB_AA in itemedit.php3
         - removed extra } in sliceexp.php3
         - added stringexpand_sessurl
         - turned off warning about packing empty strings, too many bugs!
         - allowed c-OR-1-aaa-2-bbbb in param_conds and conds[0]
         - added admin/view.php3, like view.php3 but inside admin i/f
         - added editbrief.php3, change specific fields of specific items
02/26/04 - fixed rss to ignore unparsable dates (and use Now)
         - rss2.0 dates still need handling in xml_fetch
02/16/04 - uploaded new developer's version of AA (unstable yet). Changes:
(honzam) - used HTMLAREA 3 (http://www.interactivetools.com/products/htmlarea)
           instead of old RichText Editor
         - new manager class used for 'Item manager' and 'Related items
           selection window'. New manager allows much better searching (as many
           conditions as you want also with constant selection) and new
           possibility to save your query for future use
         - new profile class for better handling user's profiles
         - new Event class allowing us set event handlers for various events
           in AA (new item, constant changed, ...)
         - new inputform class - preparation for customizeable inputforms
           (through view)
         - bulk e-mail sending (to users from Reader slice)
         - 'related items selection window' now allows to define default filters
           of items (hidden filters as well as the preset ones). Now you can
           restrict from which items you want allow users to select related
           items
         - users from Reader slice could became Authors/Editors/Administrators
           of any slice (just like any other users) - now works for perm_LDAP
           only, but we can extend it to perm_sql as well
         - improved design of forms in admin interface (buttons on top, ...)
         - improved Node setting for intrer exchange (check some errors)
         - item class optimalization (simplifier constructor)
         - improved design of 'Manual feeding' (export)
         - you can set "No Item Message" also for slice.php3 (in AA admin)
         - added new "Stored query" (Bookmark) and "Inputform" property in user
           profile
         - added link to user names which links to user's setting
         - f_t alias function now supports output modification:
           csv / safe / javascript / urlencode / striptags
           (ussage: {alias:<field_id........>:f_t:the text - possibly with
           {some aliases}:urlencode(or another modifier)})
         - improved log function - added "selector" for easier searching in logs
         - new hint and show (what) feature in manager class
         - menu utils now supports javascript calling
         - generalized bin design - now it is possible to have more than three
           bins (active/holding/trash) (if someone programs it)
         - added help texts for Links module
         - fixed bug of not working "notshown" array
         - remove duplicated lang_code field from AA Core Field slice template

--------------------
02/16/04 - v2.6.1 - stable release
--------------------
02/03/04 - fixed bug in feed field mapping settings - names with apostroph now
(honzam)   works
         - slice.php3 with iview parameter now accepts view sort order
         - new possibility to create "template" field in AA_Core_fields slice
           (just by adding new field there) and then use this field as template
           field for your slices
01/21/04 - fixed bug in f_r parameter parsing (interpreting)
01/18/04 - "Top HTML" and "Bottom HTML" code for fulltext slice view
(honzam)   is unaliased, now
01/17/04 - speed optimalization for MySQL 4.0.x
(honzam) - used "=" operator instead of "IN ()", where possible
            - defined QUERY_DATE_STEP constants containing number of seconds
              after which is index listing regenerated (this means that
              SQL query for the same page is the same during the QUERY_DATE_STEP
              time - it helps MySQL to cache results
              (see constants.php3 - default is 1000))
         - added "o" paremeter to slice.php3 - the behavior is exactly the same
           as "x" parameter, but the "hit" is not counted for this item
         - new transformation parameters to f_t alias function:
           csv, urlencode, safe, javascript (see parameter wizard for more info)
         - added start_cat parameter to view.php3 used with Links module
           for "path" display
         - fixed CSV import data parsing preview
         - fixed bug in link addition (Links module)
12/25/03 - allow setting status_code in filler.php3
(mitra)  - safer password checking in filler without text_password
         - more improvements to summarize copy field etc
         - created admin/console.php3 (commented in include/menu_aa.php3)
12/19/03 - fixed Email notifying for anonymous posted items into
(honzam)   reading_password protected slices (honzam)
         - related items with "admin design"=1 now displays headline correctly
           even if _#JS_HEAD_ alias is not defined in the slice
12/05/03 - allowed for contenttype parameter to set text/xml (mitra)
12/04/03 - fixed mime type of RSS view (mitra)
12/03/03 - fixed bug in filler.php3 - not shown fields with apostrph now works
(honzam)   well
11/10/03 - fixed problem with {user} alias - no warning displayed, now (honzam)
11/09/03 - e-mail "technical@ecn.cz" replaced by generic ERROR_REPORTING_EMAIL
(honzam) - fixed bug in input type Related Window: row count parameter now works
11/06/03 - added array possibility for cmd[89][]=.. view parameter, which allows
(honzam)   to combine more commands for the same view
           (one from url, one from SSI, ... - for example)
11/05/03 - fixed discussion  to mailing list where field present but unfilled
(mitra)  - fixed bug in error message in init_page

--------------------
11/04/03 - v2.6.0 - stable release
--------------------
11/04/03 - updated install documentation (marek)
11/04/03 - added "Noticias ES" template and view templates in sql_update
(honzam) - fixed get_aamenus() redeclare error
         - better general categories handling in Links module
         - fixed PHP warning of not existing array in slice import
         - all language files regenerated
         - fixed problem with wrong url supplied after discussion reply
         - modified config.php3 to allow easy setting virtual AA directories
           for virtual servers
11/03/03 - added Spanish language file to site module
(pep)    - fixed bug: admin/param_wizard.php3 and se_inputform.php3 now
           load the param wizard language file
         - fixed bug: include/mgettext.php3 did not allow multiple included
           files for a language
         - improved the spanish translation
10/30/03 - fixed RSS feeds to work in PHP <4.3.0 (honzam)
10/30/03 - fixed bug with $scr->current in slice.php3 (setu)
10/30/03 - removed utf8 encode and decode in RSS_restrict and decode (mitra)
10/24/03 - fixed bug with state variable expanding in site module
(mitra)  - parseUser becomes stringexpand_user
10/19/03 - Added mapping to RSS,
(mitra)    Added debugpermissions and associatioed reporting
           Fixed bug with http fetching in php>4.3.0
10/16/03 - 'Fixed bug in searchlib.php3 - multiple values joined by AND operator
10/24/03 - added alternative syntax for {@category.......1} -
(honzam)   {list:category.......1} - behaves in the same way
         - name 'Action Application' replaced by ActionApps
         - new parameter to l_p - add string as url parameter
         - updated initial view definitions in sql_update.php3
10/22/03 - added CSV import interface
(honzam) - new "add string" parameter to f_j - string is added, if the output
           is shorted (good for comething like "...")
         - f_a alias strips html tags, if abctract is grabed from fulltext
         - table of items in Item Manager have bigger cellpadding
         - and class="mgr_table", so user can customize it in css styles
         - fixed RSS output (id didn't work with some owners)
         - fixed not working includes in doc/param_wizard_list.php3
         - two new aliases for Links module - for General Categories
10/21/03 - fixed bug in AA Cross Server Feeding - Spanish and Czech characters
(honzam)   was corrupted for HTML flaged fields
10/20/03 - fixed {@field_id} alias - removed wrong comma in some cases
(honzam) - fixed initial rate setting for links to be neutral
         - queryZids() is stable - it do not change order of ids if we query
           just restricted set of ids and do not specify sort[]
10/19/03 - added mapping to RSS,
(mitra)  - added debugpermissions and associatioed reporting
         - fixed bug with http fetching in php>4.3.0
10/16/03 - fixed bug in searchlib.php3 - multiple values joined by AND operator
(marek)    were not enclosed in speech marks.
10/02/03 - fixed Up and Down arrows for Related items selection - now works also
(honzam)   in IE6 and Opera browsers
         - better implementation of {user:role} alias
09/30/03 - loop through multivalues in stringexpand:
(honzam)   {@category.......1},
           {@category.......1(const_name,const_value,_#MY_ALIAS):,:_#1 _#2 _#3}
           As you see, you can also use aliases here. The Ussage is following:
               {@relation........(_#GET_HEAD): ,:_#1}
           where _#GET_HEAD is alias defined somewhere in current slice using
           f_t (for example):
               {item:{loop............}:headline}
           This displays all the related headlines delimeted by comma (since
           special field {loop............} contain one value from
           relation........ field
         - new {user:role} alias - returns
           author/editor/administrator/super/undefined
         - view setting for Links module (links, categories) allows to define
           sorting/conditions
         - "check URL" page and "linkedit" page in Links now print information
           about folder of found link
09/29/03 - related items now are displayed in user defined order (user can
(honzam)   easily move related items up and down by arrows - it must be allowed
           in "Field-setting -> Intut type"
         - feeding improvements:
           1) Through VALUE (in 'Mapping' page) you can specify not only new
              value, but you can write there also any AA expression, which is
              unaliased - example:
              <a href="{source_href.....}">{source..........}</a>
           2) You can specify, which items should be fed and which not. It is
              done by 1) (probably {switch()..} statement) for status_code.....
              field (1=Active, 2=Holding, 3=Trash, 4=Do not fed)
         - discussions under item can be posted to a mail (probably
           mailinglist). It is not new, but now you can use e-mail template for
           it (just like in Alerts) and use any discussion alias
           (like _#SUBJECT_) in e-mail's body or subject. Setting is the same
           as with view, but the template number is prefixed by "t" letter
           (like: t21:our-l@list.org.cz).
           Older approach (through discussion view) is deprecated.
         - cache content identifier for site module is extended to whole $apc
           variable (not only state), so you can use browser identification
           in $apc, now
         - hitCount is not updated so offten (for better database perfomance)
??/??/?? - notuploaded - fixed bug in importing slices when used hex coding
(mitra)
09/25/03 - Changes to summarize and related changes to se_inputform
09/23/03 - added possibility to get constant name (and other informations) from
(honzam)   constants value in unaliasing. The syntax is
           {const_name:category.......1} - prints constants name from current
           value in "category.......1" field. Possible informations are:
           const_name, const_value, const_short_id, const_description,
           const_pri, const_group, const_class, const_id
           (see constants table or constants view)
         - added possibility to specify more fields in 'd' parameter of
           view.php3 (cmd[246]=d-headline.......1,category........-RLIKE-Enviro)
         - added new "sort" param to view.php3 (set[246]=sort-headline.......1)
         - "display count" of randomly displayed items (probably
           banners/tickers/...) is updated on its display (in case you display
           just one item (=banner) by the view
         - fixed bad bug in constants change with "propagate changes"
           (wrong records was updated sometimes)
         - contentcache class for unaliasing speedup introduced
         - removed unused fields from links_category table
         - added possibility to query categories in whole subtree in links mod.
         - added document_uri computing on environments, where not specified
         - new possibility to specify file permissions on upload
           (IMG_UPLOAD_FILE_MODE constant in config.php3)
         - prepared for russian and vietnamese translation
09/17/03 - extended time limits on some admin functions
(mitra)  - major changes to summarize to compare slices
09/09/03 - added multiple checkbox refill to setControlArray, so now multiple
(marek)    checkboxes can be used in search forms that use fillform.php
09/04/03 - fixed show_fnc_hco to do input_before
(mitra)  - $db fixes to constedit_util itemfunc site/util admin/itemedit
         - fixed invalid_email regexp use [.] instead of \\.
         - now expands no_item text, may not catch all aliases
08/27/03 - added stringexpand_ prefix for extending string expansion
(mitra)  - replaced existing eb_functions for substr and fmod
         - added return_url to discedit.php3
         - removed unneeded warning on resizing
         - added commented out code for password problem on cross-architectures
08/26/03 - added "Select all" option on Filters admin page;
(honzam) - fixed crossserver feeding and its filter setting
08/24/03 - added pointers to Honza's demo slices to documentation
(mitra)  - removed require of non existance sessionobj.php3
08/21/03 - category tree display speedup (in links module)
(honzam) - fixed sql_update to not add disc_count,.. fields twice to the slie
         - sql_update - refreshed to last database state
           (added 'selector' column to log table)
         - discussions in thread view could be sorted in reverse time order
           (first thread is the newes one)
08/20/03 - added new parameter "hide email" for f_m alias function which prints
(honzam)   email using javascript, so it is hopefuly unvisible to spam robots
08/14/03 - fixed hierarchical editor on inputform - it show names of constants
(honzam)   instead of values
         - fixed redefine function problem in manager and scroller
           (require once, now)
         - language constants for output (view, slice) are now loaded
           (so "Next" is translated, for example)
         - fixed als[] defined aliases in constant view - now works
08/10/03 - {slice_id........} and {id..............} inline aliases displays
(honzam)   unpacked ids, now
         - fixed bug in Jump module - error when jumping from Edit Jump page
08/09/03 - fixed bug in f_r for _#RSS_IT_L (missing link in RSS output) (mitra)
07/25/03 - added test that function called by f_u is callable (mitra)
07/19/03 - new "u_slice_id......" and "unpacked_id....." item fields (with
(honzam)   unpacked ids) usable for unaliasing
         - new special "url" parameter used with "x" view.php3 cmd[] -
           view.php3?cmd[43]=x-43-url - which means, that such view takes
           item_id from x=... url parameter (obviously used with slice.php3)
           - we used it to create special view for <title> tag to contain
           Headline
         - fixed password protected anonymous posting in filler.php3
           and fillform.php3 - error 'No Slice ID' is no longer displayed
         - commented out wrong AlertsSendInstantAlert() call - instant Alerts
           are send form cron - as well as any other type of alerts
           (daily, weekly, monthly)
         - fixed f_x alias function - it do not report error if empty pairs
           supplied
         - fixed link editing problem - old values are shown in form again
           (on error)
         - general category selection is hidden for public users in Links
           module, now
         - new Links module alias functions
           - l_b (prints if category is crossreferenced)
           - l_p (allows to print path to the category)
         - allow delete only not empty categories (or categories which contain
           only trashed links
         - allow sorting categories with general categories at the end in Links
         - new aliases for crossreference and category path (category, where we
           are, now) in Links module
         - better (DHTML) category selection in on LinkEdit page
           (thanks to Martin Hladik)
         - fixed category assignment bug in linkedit2.php3
         - fixed trash display (it shows also proposals, now) in Links module
         - fixed problem with multislice search and quoted/unquoted slice_ids
         - item_content class generalized and prepared for content
           transformations (for CVS uploads, feeding, ...)
         - better function for counting number of links in categories
         - new item class parameter, which can contain additional item class
           settings
         - new addglobals() method for shorter code in varset.php3
         - new set_from_item_arr() method for storing ids posted from item
           manager.class to zids.class
07/10/03 - added user id to the user edit form (AA -> Edit User)
(honzam) - fixed posted_by (Author permissions) problem
07/09/03 - rearranged GetViewFromDB to fix bug in calendar drop-thru
(mitra)  - fixed bug in sliceid in GetViewFromDB (unpack doesnt work on quoted)
         - some changes to trace
         - fixes to site module to get rid of bad "co"
07/08/03 - fixed huhe with multiple arguments
(mitra)  - fixed isField to allow wider selection including alerts1....aZh12
07/07/03 - updated spanish translations (more work needed)
(pep)    - fixed posted_by field insert function on sql_update.php3
07/05/03 - added defaults and default functions to importer.php3
(mitra)  - don't send welcome inviting confirmation if already confirmed
         - removed $db paramater from "new itemview"
         - added link to editsliceinfo and colors in summarize
         - used newer unaliasing in mail.php3
         - removed $db paramater from new manager
         - removed warnings on unable to expand {0,4}
         - split fillform into include/fillform
06/30/03 - fixed image resize functions
(honzam) - fixed user profile setting where warning is no longer displayed
06/26/03 - added Links module into sql_update.php3 and updated config.php3
(honzam) - fixed Links to use new aliases
         - AAnoCONDITION could be used also with cmd[]=d (not only with cmd[]=c)
06/19/03 - fixed wrong called md5() function for password protected record
(honzam)   instead of crypt()
         - fixed status_code setting to value defined in Defaults
         - new disc_url parameter for discussion.php3 script - this parameter
           you can use, when you create discussion search, where you need
           to supply, on which page discussion comment fulltext should appear
         - fixed bug in default parameter for hidden form fields
06/14/03 - Added commented out in perm_sql for handling moved databases (mitra)
06/13/03 - category and link design editable through admin interface
(honzam) - fixed searching in links module
         - added link validity rank to link manager
         - added possibility to create left menu dynamicaly by function call
         - fixed bug in module deletion
         - removed unused options
06/12/03 - updated language files by misc/mgettext/  (honzam)
06/10/03 - added link and categories view type
(honzam) - new and better event handler for new item
         - improved link manager
         - left menu item could be created by function
         - added LINK_UPDATED event;
         - fixed category assignment problems, when user is not owner of link,
           but he wants to have the link in his/her category
         - bugfix zids: adds ids from array even if first id is not set
         - new set[]=slices-slice_id1-slice_id2-sli... for view.php3
         - fix of wrong Related Item Window field setting
         - fixed problem of wrong & behavior on hirarchical constants edit form
05/29/03 - fixed eb_functions in expand, and added substr (mitra)
05/28/03 - added {include:file:site} for getting files from specified directory
(mitra)  - fixed bug in sliceobj
05/31/03 - added special view.php3 alias _#SELECTED, which is "1" for selected
(honzam)   item (given by special set[] view.php3 paramater
           (like: set[34]=selected-43535) - usable for displaing menu generated
           from slice items (see leftmenu (topics) on obcan.ecn.cz))
         - aliases of unused fields are grayed in help alias listing
         - first selected menu in Slice Admin is Fields, now
         - fixed problem with wrong displayed items when from=1 and to=1
         - special "dview" slice parameter, which defines used view for
           discussions (just like ivew and fview parameters)' slice.php3
         - propagate changes in costantedit is default for new constants group
         - fulltext links now work also if slice.php3 is called from PHP script
         - if you add hidden field into discussion form with all_ids=1, then t
           he discussion after submit is shown in its full form
05/30/03 - constant view switched to standard view, so conditions conds[],
(honzam)   sort[] ... are possible
         - fixes for running AA on Zeus webserver
         - setup.php3 now reports error, if database is not set well
           and setup.php3 also suggests solution
         - no template selectbox if there are no tepmates for the module
         - preparison for LiveChange feature
         - better link and <br /> handling in text e-mails
         - anonymous form wizard is back
         - fixed problem with cached user auth informations - views
           (and slice.php3) is never cached if you use {user:xxx} in its
           definition, now
         - fixed "runtime reference function call" problem
         - fixed include path problem (modules/alerts/menu.php3,post2shtml.php3)
05/23/03 - added {include:file:fileman} for getting files from file manager
05/21/03 - fixed buggy path to moddel.php3 script (in admin/slicedel.php3)
(norbert)- fixed cache bug for two sites with the same state variable
05/20/03 - clearfonts in Richedit now removes not only <font> tag, but also
           <span>, <p> and <o:p> tags (norbert)
05/19/03 - new {user:} inline alias which is able to dislplay informations
(honzam)   about logged user (from PHP_USER_AUTH and ReaderManagement slice)
         - fixed RSS2 so recognizes HTML in description etc (mitra)
05/15/03 - added debugging to misc/file2slice/importer (mitra)
(mitra)  - removed test for nocache in site.php3 on store, for consistency
         - made get_output_cached include apc_state and als in keystr
05/14/03 - fix bug in caching of views run under other slices (mitra)
05/13/03 - constants view now uses standard itemview, so conditions (conds[] and
(honzam)   sort[]) are now possible for this view type
         - removed old database fields for link module
05/12/03 - changed UI elements in fileAction to buttons from links
         - this included changing parameter from uploadarg to upload
         - admin/test.php3 now correctly tests for presence of FILEMAN_BASE_DIR
         - fixed fileman path to images from /apc-aa/images to ../images
         - fixed get_filetype not to generate errors on "Other"
(mitra)  - changed se_fields to start new ids with .... instead of ...1
05/09/03 - added f_y to expand a string or a field
05/09/03 - better error reporting in input_fnc_fil (mitra)
05/09/03 - added f_y to expand a string or a field (mitra)
05/02/03 - FilemanPerms and GetModuleInfo and get_aamenus handle null
            slice_id better (was generating warnings on Add Slice)
(mitra)  - Fixed overlong for loop in calendar generating warnings
         - fixed address of sql_update in install-4.html (mitra)
05/01/03 - integrated summarize.php3 into menus and styles etc
05/01/03 - updated fileman.php3 and admin/test.php3 to check for missing
05/01/03 - integrated summarize.php3 into menus and styles etc (mitra)
(mitra)  - updated fileman.php3 and admin/test.php3 to check for missing
           fileman directory - still has UI and other bugs
04/28/03 - introduced AA_BASE_DIR AA_SITE_PATH AA_HTTP_DOMAIN into config.php3
(mitra)  - se_inputform.php3 can be called with onlyupdate and parameters
           to update a single field as called from summarize.php3
         - changed f_r to handle p[1]
         - Updates to summarize.php3 (mitra)
04/27/03 - picture is not resized if no width and height is given
(honzam) - global category support for Links module
04/25/03 - GetTable2Array no longer needs $db parameter
(mitra)  - Added admin/summarize to AA page, gives a quick summary of a page
           (enable on menu_aa.php3)
04/23/03 - added support for convertors from DOC/XLS/PPT/.. to HTML
(honzam) - fixed page scroller's 'All' feature - now works also from other
           than first page
         - updated and fixed Links module
         - fixed errors in set*() functions in item_content.php3
04/22/03 - tried to fix the bug with email notification of new items
04/18/03 - updated the alerts.xml and anonym.xml files (jakub)
04/15/03 - corrected text on wizard for file uploading - (mitra)
04/15/03 - fixed bug in include/item.php3 (addslashes needed in a query) -pep
04/15/03 - fixed require bug in util.php3 (uses writelog) (mitra)
04/14/03 - added unsubscribe option to Alerts (_#UNSBFORM)
(jakub)  - added "Show Not So Nice" to Anonym Wizard to be used when "Show" does
           not work
04/14/03 - fixed bug in StoreItem for image fields (duplicated)
(mitra)  - removed some global $db, involved changing args to some fnctns
04/13/03 - fixed import to allow for just slice data,
         - allow import to force import to current slice
         - workaround for empty spotid in site module (not a bug fix!)
04/10/03 - fixed Alerts bug which ignored Selection conds[]
(jakub)  - finished the new option for sending all items from one view at once
04/10/03 - new CountHit function, so displaying fulltext is quicker
(honzam) - improved slice selectbox - better titles for different slice types
         - fixed "live checkbox" - works again
         - fixed date validation/filling with default value (fix mainly for
           anonymous posting)
         - fixed bug with not shown scroller in site module
         - fixed triggers problem - it did not work properly
         - redesigned permission definition in perm_core to be more clear
           for modules other than slice (mainly optical change)
         - Links module much improved
04/08/03 - fixed layout bugs in menu_util (showed up in mac ie, included
           colspan=2 applied to an IMG
04/05/03 - enhanced the view types definitions in constant.php3 so that
(jakub)    help text may be added and field type overrided
         - enhanced zids->add() to work with arrays and zids objects
         - added zids->union() and made some minor fixes in zids
         - added a new setting to Alerts Selection Set view, to choose
           whether the corresponding filters should be grouped by selections
           (see doc/reader.html for a description)
         - fixed Alerts manual sending: all collections were sent instead of
           only the current one
         - added mutual exclusion to reader management usernames and AA
           permissions usernames (the same username can't be used in both)
         - separated Alerts doc to doc/alerts.xml and enhanced it
03/31/03 - updated all language files with xmgettext
(jakub)    and added some Czech translations
         - changed sql_update to work better with cron entries and updated
           the alerts cron entries
03/29/03 - improved the Anonym Form Wizard
(jakub)  - improved the Send Email Wizard, now it allows using field aliases
         - added links to reader.html and anonym.html to doc/index.html
03/28/03 - fixed bug with sliceobj that broke RSS
(mitra)  - changed debugging in itemfunc
         - fixed bug searchlib not showing items with no exp or publish date
03/25/03 - fixed problem with "&" character in parameter to shtml page (honzam)
03/24/03 - fixed "Bad Table view ID: modedit" bug when switching from one module
(honzam)   type to another
         - fixed: design setting is not lost when you scroll to another page
           in Related Item window
         - Fixed problem of duplicitly fed items when source item is edited
           again
03/24/03 - removed the old Alerts scripts from misc/alerts (jakub)
03/24/03 - fixed several things in Alerts (jakub)
03/24/03 - fixed bug of empty row appearing in "Two boxes" input type
(honzam) - new keyword "<!--Vacuum-->" can be used in "No item message"
           parameter in view or slice setup, which will display nothing
         - new view.php3 command 'o', which behaves exactly like 'x' but item
           hit-count is not increased
         - old selected values are highlighted ("sel_on" style) in SELECT-boxes
         - AA finder search now searches also in view ids, slice names and ids
         - fixed problem, when no file is specified in {include()} inline alias
         - fixed problem with language support in loginform (with new mgettext
           language environment)
         - fixed bug in random message view (random view parameter)
           (it did not work after zids update)
         - fixed problem with default date, setting from anonymous input forms
         - fixed problem with status_code, edited_by and posted_by field
           in anonymous input forms - it is not required even if marked
           as required in fields setting
         - fixed bug in "Two boxes" input type - it works again. Fixed warnings
           messages appering when array is empty in "Two boxes" input type.
         - fixed "Bad include file" problem in 'AA finder', 'Delete slice', ...
         - better debugtimes support in site module
         - added functions for clearing zids and adding new elements to zids
03/20/03 - constants view - added new aliases for description, level, short_id
(honzam) - added "url" view for list of urls (good for search engines)
         - permission to empty trash is asigned also to Editors (not only to
           administrators)
         - fixed bug with anonymous user login
         - fixed bug - not replaced lineends on Mac-type texts
03/16/03 - fixed init_page moving to index.php3 too often (jakub)
03/14/03 - fixed init_page so won't change page if coming in from outside. (mitra)
         - it should better be fixed so CALLER of init_page does switch
03/14/03 - fixed slice selector to show only permitted modules (jakub)
03/11/03 - globalised pagecache to avoid multiple purges (mitra)
03/11/03 - some more debugging code in image upload and manipulation (mitra)
03/10/03 - addedparamater to UseShowResult (was assuming err_url even on OK)
           (mitra)
03/10/03 - changed $db3 to getDB/freeDB to fix bug in item.php3 (mitra)
03/10/03 - insert_fnc_fil now preserves previously uploaded file or URL (mitra)
03/08/03 - removed duplicate new_id() from post2shtml and required util.php3
           (mitra)
03/08/03 - added links to Alerts modules to Item Manager submenu
(jakub)  - added some ? help icons to slice settings
         - added the Reading Password slice setting, see FAQ
         - added Alerts section to Item Manager submenu
         - created the file-lock synchronization mechanism,
           see include/file_lock.php3
         - added a new feature "Mailman: create list", see doc/reader.html
03/07/03 - joined the Slice Wizard Welcome emails with other emails, added
           "email templates" to menu (jakub)
03/06/03 - fixed (?) design of index.php3 with <tr><td> around item manager view
(jakub)  - changed some labels in Alerts
         - fixed filler.php3 so that it does not call ErrPage when everything OK
         - reorganized the module select box to groups by module / slice type
         - added an image to the title of Reader Management slices and to the
           title of Alerts
03/05/03 - imagefunc.php3: Added debugging, $debugupload=1, note exit on err
         -    use a table of image type properties instead of hard coding
         -    ResampleImage copies if no resampling required
         -    ResampleImage returns string on error, false on ok
         -    uses ImageTrueColor on GD2 for Jpeg old version goes mono on GD2
         -    Added PrintSupportedTypes for test.php3
         - itemfunc.php3 - added debugging $debugupload=1
         -   commented out Event_ItemAfterInsert etc since crashes
03/04/03 - new parameters columns and move_right for Radio Button input type,
(honzam)   which allows you to put radiobuttons in the grid (just like for
           Multiple Checkboxes)
         - fixed problem with language files in links module
03/04/03 - added display of GD types in test.php3
(mitra)  - remove warning on no picture in i_s - common when expanding
         - Added some debugging to PageCache
         - Added stack of values for properly invalidating nested views
02/27/03 - fixed bug of not storing related items
(honzam) - fixed bug with wrong display multiple checkboxes input
           when "move down" is ON
         - fixed bug of not showing cron admin pages
02/25/03 - fixed bug of not showing buttons in related item select window
           (honzam)
02/20/03 - added the mailman feature, which creates files with lists of
           email addresses (jakub)
02/20/03 - added new input type field for itemedit - Hidden
(honzam) - added new alias function f_o which displaye "New" or "Old"
           or such text for the item
         - added banner parameter to slice.php3
           (see http://apc-aa.sourceforge.net/faq/#sliceparam)
         - added database optimize script - called from AA cron.php3
         - new Links module (not complete, yet)
         - fixed wrong order of odd/even rows in itemview (Index)
         - do not load already loaded language file in mgettext environment
         - new manager class for administration of items (still in Links module
           only)
         - removed old, unused functions in searchlib
         - it is impossible to use "AA Core slice" as template, now
         - fixed problem of not showing roles for slices in user management
         - fixed bug with call nonmember function in itemfunct.php3
         - constants in selectbox is shown even if they have the same value
           (space added)
         - added new paramewter for Selectbox input field - "show all" which
           displays all items including expited ones for slice
02/20/03 - added parameter wizzard for uploaded file (mitra)
         - fixed warning about missing field in fpr example {alias::f_e:add}
         - more functionality in sliceobj
         - another check in stringexpand
         - fixed permissions to allow adding AUTHOR EDITOR ADMINISTRATOR
           (may not be ok)
02/18/03 - added slice_id=$slice_id automatically to the menu_util and removed
           from the items in menu.php3 (jakub)
02/17/03 - updated sql_update to match the current changes
02/17/03 - fixed the bug in TableEdit with not deleting items
02/17/03 - fixed the bug in Item Manager with ignoring 0 in the Search box
           (jakub)
02/17/03 - fixed the bug in se_profile and profile with non-existing func
           inputDefaultTypes() (jakub)
02/17/03 - added "if (class_exists(DB_AA)) return" to extsess and extsessi
           (jakub)
02/17/03 - added zids::refill() function (jakub)
02/17/03 - improved the Anonymous Wizard to match the other changes (jakub)
02/17/03 - added a new field to slice settings, "Allow anonymous editing",
           with several options, described in doc/anonym.html (jakub)
02/17/03 - fixed several bugs in filler and fillform, improved their
           documentation, additional features (jakub)
02/17/03 - added a new Field validation function, "Unique e-mail", which
           combines the "Unique" and "e-mail" validations (jakub)
02/17/03 - enhanced the Anonymous form and Reader management documentation
           in doc/reader.xml,html and doc/anonym.xml,html (jakub)
02/17/03 - added new parameters to field Input type Multiple Checkboxes, which
           allow to view them in a table (jakub)
02/17/03 - finished the Alert module which cooperates with the Reader management
           slice, added events to event_handler (jakub)
02/16/03 - removed include of nonexistant en_site_lang.php3 from modedit (mitra)
         - added roles to um_util.php3.PrintModuleAddRow - possibly wrong
         - fixed bug in init_page stopping non-superusers logging in
         - fixed warning in view.php3 from packing empty slice_id
         - added some reset's in getxml
         - admin/index will now tell you WHICH slice you can't edit
         - added test option to RSS feed adder
         - added views to import and export - still not working properly!
         - added flag EXTSESSEITHER_INCLUDED to get around bugs with
            multiple includes until these get fixed
         - commented out security risk default_fnc_variable (mitra)
         - created include/view.class.php3
         - added mroe functionality to sliceobj, especially slice2
         - added getDB and freeDB to remove guessing about which AA_DB to use
         - created xml_serializer.php3 for object <-> xml
         - renamed zids/qqqquote to qqquote
02/10/03 - added note on securing apc-aa-uploads to install-4.html
02/06/03 - more on making import/export work  (mitra)
02/05/03 - fixed bugs in sliceimp.xml (mitra)
02/15/03 - fixed bug and added debugging to cache
02/11/03 - created the item_content.php3 file to ease manipulation with
           $content4id (jakub)
02/11/03 - created the event_handler.php3 file, useful for various
           event handlers which synchronize different parts of AA. Several
           Auth handlers set. (jakub)
02/11/03 - created the Auth feature which updates the auth_user and auth_group
           tables so allowing to use the mysql_auth Apache module (jakub)
02/05/03 - changed almost all files by changing require to require_once,
           deleting the "if (defined) return" constructs and changing
           GLOBALS[AA_INC_PATH] to GLOBALS["AA_INC_PATH"] (jakub)
02/04/03 - fixed bug in sliceimp.xml (tested $add instead of $add_fields)
         - fixed so displays Headlines of conflicting items
         - added functionality to import and export XML
02/05/03 - changed almost all files by changing require to require_once,
           deleting the "if (defined) return" constructs and changing
           GLOBALS[AA_INC_PATH] to GLOBALS["AA_INC_PATH"] (jakub)
         - fixed so conflict screen will still import from file, (textarea
           truncates)
02/04/03 - sql_update.php3: Changed the Alerts tables, added the Email table
02/04/03 - big changes in init_page. The script was a mess. With mgettext
           and some other changes it is much tidier and perhaps readable.
           (jakub)
02/04/03 - enhanced and fixed fillorm.php3 and filler.php3 in order
           to allow easy creation of anonymous forms. This involved
           changes in itemedit.php3 and itemfunc.php3, now it shares most of
           the code with them. (jakub)
02/04/03 - added the Anonymous Form Wizard (jakub)
02/04/03 - slightly changed the "Language" field in Slice Settings (jakub)
02/04/03 - fixed Slice Deleting (was in a bad state, deleted almost nothing)
           (jakub)
02/04/03 - added the Reader Management Minimal template to sql_update.php3
           (jakub)
02/04/03 - added Hex checkbox to Slice Export (default), uncheck to get XML
02/04/03 - fixed bug in discussion views (mitra)
02/04/03 - fixed new_id to skip ids ending in space (honza, via mitra)
02/04/03 - added slice.class.php3 to start encapsulating slice db manipulation
           (mitra)
         - fixed bug with error handling in xmlclient.php3
         - updated install-4.html to show no more aadb.sql
         - added % operator to math
         - support empty format string to math
02/01/03 - removed "Edit" from uneditable aliases in se_view (mitra)
         - added _#ITEMINDX and f_e:itemindex  for item number within a view
         - added _#ADD_ITEM standard alias, for putting on views to jump to add
           item (uses f_e)
         - added {dequote:....} to stringexpand to allow { } in fields where
           needed
         - added a generic extensions syntax to stringexpand via an array
           of functions
         - made huhl smarter, can print object via its printobj() method,
           implemented for zids.
02/01/03 - fixed bug with empty cmd[20]=x-20-   so returns empty set
01/30/03 - added support for match field "short_id" to f_q (could still use
           return field) (mitra)
01/30/03 - fixed bug in itemfunc where file not uploaded (mitra)
01/30/03 - fixed bug in {math where parameters contain aliases (mitra)
01/30/03 - allow time_limit parameter to extend PHP timeout on view.php3 (mitra)
         - switched ereg for preg in stringexpand 10000* speedup! (mitra)
         - added debug_times parameter to print timestamps (mitra)
01/28/03 - added new Password and Change Password field type and insert function
(jakub)  - added new Random function into Field Default
         - added parameters for Field Validation, Param Wizard for Field
           Validation and new Unique validation
01/28/03 - added paramater wizzard for i_s (mitra)
         - added some more warnings: in i_s, and stringexpand/alias
         - fixed title on site admin window
         - added test for GD into admin/test.php3
01/27/03 - fixed language constants in so many files, hopefully completely
(jakub)  - changed design of se_inputform.php3: added 2 new param wizards
         - improved param wizard design with buttons
         - fixed bug: slice was not deleted from module table
01/26/03 - added i_s as in {alias:{img_src.........}:i_s:} to generate height
           and width (mitra)
01/26/03 - fixed bad url from slicedel2 to slicedel
01/25/03 - added warnings to GD tests (controlled by errcheck=1) (mitra)
01/25/03 - restored en_site_lang.php3 since _m conversion not done completely
           (mitra)
01/24/03 - bug fix in slicedit.php3, mistyped URL sliceEdit.php3 (Jakub)
01/24/03 - changed design of se_inputform.php3 (Jakub)
01/24/03 - added H2 to admin.css (Jakub)
01/24/03 - fixed bug in code for non 128 bit ids (mitra)
         - parameterised RelatedItemsWindow, using table in itemfunc (later
            will allow redefining that table)
01/23/03 - doc/install Recommended php4.0.6 or later, (mitra)
         - instructions for non-shell accounts
         - added notes to install-3 that these packages are often preinstalled
         - added admin/test.php3 to CVS to enable checking options
01/23/03 - stringexpand - fixed bug in math (mitra)
01/23/03 - commented out insecure default_fnc_variable (mitra)
         - fixed zids.guesstype to allow for buggy shorter ids (14 or 15 char)
         - fixed new_id to only return 16 char ids in future
01/22/03 - fixed buggy shortids() function in zids.php3 (honzam)
01/22/03 - fixed typo sliceedit -> slicedit (mitra)
01/21/03 - code rule changes (mitra)
         - added global flag $errcheck like $debug but generates warnings
           on strangeness
         - added zids.php3 to encapsulate id management including:
           * adds support for tagged ids in many places (not all yet)
           ** If related item window field set to store text, it will cleanly
              edit these
           *** More changes to related item window coming
           * duplicates pack_id and unpack_id to pack_id128 and unpack_id128
             which check type
         - commented out require of  _lang.php3 files from config.php3
01/21/03 - changed {....} expansion to use f_h for fields, allowing multi-value
           fields
         - fixed bug in stringexpand for scroller (mitra)
01/20/03 - modified mgettext language files extension from .inc to .php3
           (mainly for backward compatibility) (jakub)
01/17/03 - changed all January dates here from /02 to /03 :-)) (jakub)
01/17/03 - changed name loginform.html to loginform.inc, the name was nonsense
           (jakub)
01/17/03 - BIG CHANGE: moved the complete AA to mgettext (jakub)
            * see documentation in include/lang/readme.html and misc/mgettext/*
            * Finished the scripts in misc/mgettext and include/mgettext.php3
            * In almost every script: All language constants replaced by _m()
              calls
            * All language files include/??_????_lang.php3 removed.
            * Updated language files in include/lang.
            * Added new item into config.php3: $XMGETTEXT_DESTINATION_DIR
            * Updated doc/install-5.html
            * Added menu item AA admin / xmgettext
            * changed global variables in constants.php3 to function calls
            * changed include/init_page.php3 to use mini-gettext
            * changed slice.php3 to use the ??_output_lang.inc language file
            * changed admin/param_wizard.php3 to use the ??_param_wizard.inc
              language file
01/17/03 - Documentation - ref to GD (but no instructions) (mitra)
            -- and ref FAQ for developer CVS install
         - stringexpand: do unalias on results of expanding apc_state or als
01/16/03 - added functions to module/site/site.php3 for site_* files (mitra)
           -- ModW_id2item - convert id to item enabling aliases etc
           -- ModW_arr2str - convert array back to string
           -- ModW_str2arr - convert apc= parameter string to array
           -- pass apc_state[item] on to unaliasing
01/15/03 - fixed bugs in imagefunc.php3 (check for GD, removed debug messages)
         - fixed problem in Item Manager (search field works again)
01/14/03 - hiding the slice select box for users with access to only one module
           (jakub)
01/14/03 - new function GetUserEmails in perm_core.php3 (jakub)
01/14/03 - new language file selectbox for site module (Site Admin - modedit)
01/13/03 - added "add" as option to f_e for adding an item;  (mitra)
           created parameter wizard for f_e
01/12/03 - changed site module to go to prior sibling when deleting rather than
           parent (mitra)
01/12/03 - added default $item=null to new_unalias_recurent to allow calling
           from site module without warnings (mitra)
01/12/03 - fixed adding AA_CP_Session to url in site module AAPage where it is
           already there.
01/12/03 - changes to allow _#EDITITEM to be used outside of admin interface
01/12/03 - combined several ways of redirecting to a URL into common function
           go_return_or_url
01/11/03 - Fixed item.php3:subst_alias, it relied on old bug of expanding bare
           field name without { }
01/11/03 - Changed typos of _#ITEMEDIT to _#EDITITEM
01/11/03 - Changed a type $New_silce to $New_slice in init_page.php3
01/11/03 - Added alias checking so {xx} will also check als[xx]
           (it will default to returning "{xx}" if not set)
01/11/03 - Changed f_e to work in views outside of admin (appends slice_id
           instead of session_id if no session id), takes a second parameter -
           return url (not currently specifieable with wizzard), and defaults
           to $PHP_SELF if running with no $sess.
01/10/03 - fixed bad display of selected related items, when "Two Boxes" input
           type is used (honzam)
         - {influde()} inline construct accepts "http://" includes, now (honzam)
         - fixed bug of bad number of parameters to new_unalias_recurent()
           (honzam)
         - fixed problem with modification of bad spot when clicked "Back"
           in browser for 'site module' (r_spot_id changed to spot_id) (honzam)
         - forbiden "action" field name renamed to "akce" in 'site module' admin
           (honzam)
         - added missing "util.php3" include in "Module Settings" page
           for 'site module' (modedit.php3) (honzam)
         - fixed bug of not displaying UserManagement pages in NN4.7 (honzam)
01/10/03 - fixed javascript bugs preventing for example deletion of RSS feeds
           on Mac IE, two bugs (mitra)
           -- if the index of a selection is -1 (not selected) you can't
              retrieve a value
           -- you can't test against undefined, have to test against null.
01/07/03 - move r_spot_id out of session variable and into URLs (mitra)
01/06/03 - added "All" option to the scroller in item manager
           (sets listlen to 99999) (mitra)
01/06/03 - changed cases of "action" to "akce" as form component name because
           its a  property of "form". Bug shows up in Omniweb but not in IE
           (fee_to.php3,index.php3 related_sel.php3) (mitra)
01/05/03 - added utils.php3:huhl function for wrapping print_r (mitra)
         - changed richEditShowable to return false for macintosh (Mac IE 5.2
           does not support either class or iframe versions of RichTextEdit)
01/03/03	 - merged string expansion into include/stringexpand.php3 including
           (mitra)
           -- REMOVE strings from views are now applied to the RESULT, not
              the first parse, this might be significant/bad idea
           -- Behavior for extra { and } in the strings MIGHT be different
              before, the previous behavior looked inconsistent
           -- removed fake item kludge from include/mail.php3
           -- item.php3 (i.e. expansion in views) now supports "view.php3"
              syntax and expansion of apc_state
           -- QuoteColons now handles { and } as well, this might not always
              be a good idea
           -- modules/site/site.php3 uses new unalias which means
              ---  it requires switch({m}) instead of switch(m)
              ---  it supports the {math ...} and {include...} syntax
01/02/03 - fixed bug in site/index.php3 where cache not invalidated when site
           updated
12/30/02 - spelling correction in _m("There are too many related items.
           The number of related items is limited.") all *news_lang.php3 still
           in english (mitra)
12/30/02 - warning comment on slice special case in item.php3 (mitra)
12/29/02 - Added some comments in site/site and added simple example from sf.net
           (mitra)
12/20/02 - fixed problem with LiveCheckbox (image path/mozilla refresh) (honzam)
         - fixed bug of ignored conditions, when conds[x][value] was 0 (honzam)
12/17/02 - input type "selectbox with presets" with the "adding" parameter ads
           new constant into constants group WITH PRIORITY NUMBER SET TO
           MAX(pri)+10  (honzam)
12/15/02 - date fields posted from anonymous form takes date from Defaults, if
           it is send as empty and the field is not marked as REQUIRED (honzam)
12/13/02 - Removed output from cron (mitra)
12/11/02 - Allowed - and . in filemanager names in formutils and added err msg
           (mitra)
12/11/02 - fixed bug so Slice Admins can add/edit RSS feeds, not just superadmin
           (mitra)
11/21/02 - fixed problem, where slice admin can't edit slice settings
           (only superadmins can)
         - fixed bug of ocasional warning of empty array in sql_parse.php3
         - fixed typo in slice4cache variable name in modules/site/site.php3

--------------------
11/18/02 - v2.4.0 - stable release
--------------------
11/18/02 - install documentation updated (thanks to Marek Tichy)
         - multipart/form-data type of form is send only if you use file upload
           field on the form
         - fixed javascript error on new user/group creation
         - related items could be from another slice, again
11/17/02 - replaced bad '<?' php delimiters with '<?php' and other fixes
11/15/02 - display control variables (like navbar, sort_filter) are in sessions
         - new input type "two boxes"
         - fixed problem of IsSuperuser() function - it didn't use cached values
         - javascripts moved to new directory - it allows better security
           settings for include directory
         - fixed {switch()..} bug - default option works,
                                  - empty variable condition works
         - added "empty" class for empty cells in calendar view
         - better handling of Word pasted text
11/14/02 - added Item Edit javascript validation, alt+S accesskey
         - improved Item Manager design
11/13/02 - returned item ids are cached in QueryIDs function, which should
           improve slice.php3 speed and scrolling speed
         - added support for module deletion
         - fixed problems with aa menus in modules
         - fixed problem with html/plaintext setting on returned itemedit page
11/07/02 - added doc/param_wizar_list.php3 to provide a complete list of
           field types and alias functions
11/07/02 - sql_parser updated so that in a search form spaces, hyphens and
           apostrophes between two letters don't get special meaning.
           I.e. "south-west" remains "south-west", but "south -west" becomes
           "south AND NOT west"
11/02/02 - constants could be sorted by click on column name on constants admin
           page
         - cosmetic changes in design
11/03/02 - new 'site' module
         - more customization of window for related item selection (Backward
           link, optional buttons and design based on Item Manager interface)
         - new _#SLI_NAME alias introduced
         - new utility to import constants to database directly from an array
           (misc/file2slice/array2constants.php3)
         - fixed bug in f_d alias function - absolute date range now works as
           expected
10/25/02 - new possibility for selectbox with presets - newly written constant
           can be added automaticaly into 'preset' constants group
         - first version of Live checkbox - checbox changing database directly
           from Item Manager
         - new possibility to use 'login' as default or inserted value for field
         - related item view accepts view conditions now
         - related item view also do not display expired items
         - rows returned/afected is displayed on debug output (&debug=1 in url)
10/24/02 - new AA Finder admin page - finds views and slices
10/18/02 - added mathematical functions for aliases (thanks to Stano and Jakub)
10/14/02 - new possibility to send emails from discussion (discusion2mail view)
10/11/02 - send admin emails to non-committed users
10/03/02 - added span to active scroller page.
         - new cron admin pages
         - constants.description database field changed to TEXT
09/27/02 - minor bug fix: util.php3 / html2text (used in alerts sending) does
           not comprime all empty lines to one line end any more.
09/26/02 - nested aliases work in f_v alias function too
         - renamed all defaults aliases, which ends by '#' character (_#ITEM_ID#
           => _#ITEM_ID_) - there was problem with colon ':' escaping '#:'.
           old aliases works, so all code is backward compatible
09/12/02 - added Editorial to Alerts Collection
09/11/02 - fixed problems with related items view
         - new possibility to log user searches (queries) (see searchlog
           parameter to slice.php3)
08/20/02 - first parts of new language environment mini gettext
08/20/02 - new AA Alerts introduced, allowing to send new items to users by
           e-mail
08/20/02 - because MsgPage is sometimes called with menu which again uses some
           permissions functions, these occurences were changed to MsgPageMenu
           in include/msgpage.php3
08/02/02 - files uploaded to a slice with file manager set on, are uploaded to
           directory "items" in File Manager
07/25/02 - hierarchical constants: added check not to allow users to select one
           constant twice
07/23/02 - fixed minor bug, added als[] to scroller sessions
         - added 5th param to hier const field type, Level Names
07/22/02 - added sorting (and grouping) by constant-priority to view
07/21/02 - better names for uploaded files
07/18/02 - bug fix: sort didn't work with scroller
07/16/02 - fully functional File Manager with Copy Template feature
07/12/02 - added a new defaultCondsOperator URL parameter which changes the
           default operator LIKE to another one
07/12/02 - changed slice.php3 - it didn't combine correctly URL defined group_by
           etc. with the slice defined parameters.
07/11/02 - fixed itemview - group by ignores upper/lower case now
07/08/02 - new 'group_n' parameter for slice.php3 allowing display of first
           (second, ...) category only
           (good for display of last issue of magazine, for example)
07/03/02 - new possibility to use data (aliases) from the first item in listing
           for the 'top HTML code'
07/02/02 - new possibility to change all user permissions on one page
           (in user management)
         - new possibility to sort and mainly group items in 'priority' order
           (usable for all fields defined by 'constants' - like categories)
06/30/02 - added Slice Wizard
06/26/02 - bugfix - bad parsing of parameters of Input type function (el:.. bug)
         - bugfix - RSS view works again
06/21/02 - new "{include()}" inline function
         - bugfix - multiple checkboxes now works (again)
06/17/02 - patched PHPLib is part of AA, now (use 'cvs update -d' to get it)
         - fillform.php3 works with scroller (fillconds)
         - removed call-time passed-by-reference variables in function calls
         - better variable handling if magic_qoutes are not set (no more
           warning displayed)
         - f_t alias function parameter used for unaliasing string
--------------------
06/14/02 - v2.2.0 - stable release
--------------------
06/13/02 - fixed 'admin order' bug in profiles
06/07/02 - added the Field Triggers page to allow JavaScript support
06/06/02 - added possibility to create constant group from another constant
           group (clone template)
         - fixed bug with wrong day number in month in cron.php3
         - fixed bug with empty braces for cmd[] and set[] for view
         - removed dependance on 'conds' url parameter for view
         - fixed f_h function (no delimeter if empty value)
         - fixed problem with AA_INCLUDE_URL on http/https servers - can't load
           css file...
         - new operator 'is set'-NOTNULL for conditions
06/03/02 - added possibility to create view from template (any other view)
06/01/02 - http/https problem fixed for admin images
         - fixed parsing arrays from .shtml URL parameters (unlimited depth)
         - added possibility to define field mapping for manualy fed slices
         - the possibility to filter 'to the same' category on Filters page is
           back (for inner feeding)
05/31/02 - changes in navigation - new AA menu introduced instead of users menu
         - multiple selects now works well in fillform
         - interface for new module adition
         - include path generalization for richedit
         - fixed bug in jump module - jump between two slices
         - hierarchical constant editor - support for default value selection,
           support for addidion to public pages
         - new field_id change utility (good for multiple slice searching)
         - new alias listing column in Admin -> Fields
         - slice export/import now allows gzipping of data; storing the data to
           the file; storing not only slice setting, but the item's data too
05/24/02 - added 'number of item viewed counting' to view.php3, too
           (when cmd[]=x-.. used)
         - added information, where constants are used - on constant admin page
         - fixed bug in constant group deletion (all tracks removed, now)
         - newly created slices uses the same categories as template (no new
           constant group is created, now (BTW - it was buggy, so long))
         - fixed bug in 'Related item' input type (you can switch from page to
           page and it works, now)
05/17/02 - new 'textarea with presets' input type
         - added new possibility to "selectbox with presets" - two field could
           be filled by single selection (source and source_href, for example)
         - new possibility to concaternate texts filled by presets (field or
           textarea
         - added RLIKE possibility in operator list for views
         - fixed bug of not working url aliases in static view
         - added error description text passed to error page (on err_url)'
           filler.php3
         - removed old and unused parameter "query" and all related functions
         - added accesskey "s" for form submit
         - slice owners are ordered by name, now
         - fixed problem with displayed warning on discussion administration
           page, when accessed through https
         - fixed bug of ocassional warning of redeclare userdate2sec() function
         - fixed bug of ocassional warning of wrong language file include
05/15/02 - added 'storemultiasone' option in /misc/file2slice/importer.php3
05/14/02 - fixed bug in edit constant - se_constedit (udated to modules version)
         - removed debug messages from hierarchy constant editor
04/25/02 - module interface introduced (not only slices, but other modules are
           now possible to do. see /modules directory for module listing)
         - new 'inline' aliases definition (in {} brckets)
         - new 'propagate changes' possibility for constants
         - new hierarchy constant editor
         - new calendar view
         - new possibility to search across more slices
         - support for 'group by' setting in admin interface (not only
           categories) for slice.php3  (Admin -> Design -> Index)
         - more configurable discussions - button definition, separator
         - added css class to scroller
         - new view scroller for use in views
         - better newlines handling in joining feeds FEED_MAP_JOIN
         - better handling of urls (optional 'http://') in url fields
         - new f_j alias function for lowercase/upercase conversion
         - possibility to redefine author (created_by........) from anonymous
           postig form
         - new possibility to display random item in view
         - possibility to use shorted set[] and cmd[] parameters in view
         - banner display support in middle of shown items (banner parameter for
           view.php3)
         - possibility to redefine 'no item found' message by set[] url
           parameter in view.php3
         - anonymous posting timezone correction bugfix, checbox now works, ...
         - new scr_url parameter good for php included slice.php;
         - sort[] parameter is not depend on conds[] now in slice.php3
         - text inputboxes are checked for wrong HTML characters
         - some display design corrections and other bugfixes
         - new debuglog function for write debug output into file
         - itemview moved to separate file
         - support for on-view discussions;
         - removed logs from files
03/12/02 - new romanian language support (Thanks to Mihly Bak, StrawberryNet
           Foundation),
         - new_news_lang.php3 file introduced for better support of many
           language versions
         - fixed bug with file-upload in php 4.1.2
         - aliases added to pagecache lookup for views - bugfix
02/08/02 - corrected slovak language file by Norbert Brazda
02/05/02 - the message 'no item found' can be redefined
         - added new parametrs to view - from, to, page and slice_id.
         - new transformation alias function f_x
         - items are counted in all bins - including pending bin and expired bin
         - url alias substitution in slice.php3
         - fixed bug in searching in boolean fields
         - fixed bug of not working param_wizard on some domains
         - fixed bug in blurb f_q alias function
01/12/02 - fixed path in sql_update.php3 and changed docs in install-4.html
01/09/02 - new possibilty to anonymously edit items on public sites
         - new possibility to redefine the design of output by fview and iview
           url parameter
         - sorting and querying blank fields now fixed (bug 492331)
         - better database indexes
         - new alias for number of returned items
         - fixed bug in user profiles - not working "hide field"
         - fixed bug in aabd.sql - bad RSS view definition (thanks to Ram)
         - minutes in time fields are displayed two character numbers
         - debug messages displays duration for queries
         - fixed bug in parameter to f_v alias function
01/04/02 - added language constants for profiles, notifications.
         - updated some aliases functions
         - new hidefulltext parameter for slice (good for discussion)
--------------------
12/05/01 - v2.1.0 - developer release
--------------------
12/18/01 - scripts are now "magic_quotes" independent - no matter how it is set
         - new user profile feature
         - new possibility to join fields when fields are fed to another slice
         - new alias for displaying matched items count _#ID_COUNT
         - new WYSIWYG richtext editor for inputform (IE5+)
         - new notification e-mail possibility (notify new item in slice, bins)
         - fixed bug of not displayed items in admin interface (bug in scroller)
         - database conversion script (v1.2.x -- 1.5+) /misc/oldDb2Db
         - added possibility to fill multiple values to one field by offline
           filling
         - added empty row to selectbox for selectin no related item, if the
           field is not required (in inputform)
         - fixed file upload problem in PHP >= 4.0.3
         - new import functions for importing CSV files (/misc/file2slice/)
12/12/01 - better item table flags setting
         - better handling newlines in discussion.php3 and f_h alias function
         - bugfix in f_b alias function
         - fixed bug of not allowed empty group in LDAP
         - added possibility to quote queries in c- command in view.php3
         - better permission setting for discussions administration
--------------------
12/05/01 - v2.0.1
--------------------
11/26/01 - als parameter parsed in cmd parameter for view.php3
         - No session add option for itemlink in alias
         - IE6.0 center bug fix
         - sort slice/constant in listbox by name
10/26/01 - new tab2slice_php scripts for data import (thanks to Udo)
10/24/01 - new parameter wizard for function aliases and input type parameters
         - fixed bug of two listed slices in slice export
         - search expressions with AND, OR, NOT, (, ) allowed in conditions
         - fixed bug in search (INNER JOIN replaced by LEFT JOIN to content
           table)
         - group_by parametr extension for direction specification (+/-)
           in slice.php3
         - fixed bug with fourth parameter to f_c
         - fixed bug with unspecified maxlength parameter in text input field
--------------------
10/08/01 - v2.0.0
--------------------
10/02/01 - new sliceexport/import feature
10/01/01 - better Halt_On_Error support in extsess and extsessi
09/27/01 - added Cross Server Networking (RSS item exchange between AA)
         - added support for related items
         - new listlen parameter for view.php3
         - new view as alias feature
         - dash escaping in view.php3 url parameter
         - field ids will begin with zero ( headline........) not with 1
         - better support for dates in "<=", ">" comparison
         - new backup & restore possibility with sql_update.php3 script
         - new e-mail alias function f_m
         - new input type - preselect
         - generalized permissions functions to be able to store permissions
           for more modules and more AA installations
         - starting with alias different from AA Core (for superadmins)
         - moving item between bins updates "last_edit" and "edited_by" fields
         - navigation bar rewriten in order to simplify a new option addition
09/17/01 - fixed security hole in itemedit.php3 (caching of admin pages)
08/16/01 - added constant view type
         - added discussions
         - fixed bug with upload of file with bad charactes (like accents, ...)
08/03/01 - if no time in expiry date is specified, the end of day is stored
08/02/01 - new cmd[]-d parameter to view.php3 which is much stronger condition
           defining parameter than cmd[]-c
         - possibility to display expired items (for archves, ...)
07/31/01 - new - display condition redefining parameter to view.php3 (cmd[]=c)
         - added LIKE operator for view conditions
         - added '-' operator modifier for relative time conditions.
           The operator was implemented to view definition too (se_view.php3)
07/04/01 - new support for custom alias function definitions
           (include/usr_aliasfnc.php3 - not in CVS! - you can create it)
         - new user defined aliases (see url parameter 'als' to slice.php3)
         - new possibility to create item by copying old one
           ('Insert as new' in itemedit.php3 file)
06/24/01 - new sort and search possibility in admin interface
06/21/01 - fixed bug of constant assigning to field with multiple selectbox
         - feeding improved - field value redefine possibility
           in se_mapping.php3
         - added item ids description, ... to /doc/FAQ.html
         - enhanced cp command in install.txt
06/15/01 - improved f_h alias function for displaying multiple values
06/13/01 - added negation in condition alias function f_c
         - fixed bug of reverse meaning of condition
         - FAQ updated - slice.php3 parameters covered
06/12/01 - date inputs support time, now
         - new multivalue input possibility - <select multiple>
         - fixed bug in LDAP install documentation
06/11/01 - feeding improved - new feeding mode "Feed & update" and
           "Feed & update & lock"
06/08/01 - new slovak language support sk_*_lang.php3 (by Norbert Brazda)
06/07/01 - fixed bug of not displayed top and bottom html code for fulltext
06/05/01 - default codepage for slice not hardcoded now - moved to *_common_lang
         - minor changes in design (new logo and some colors)
         - updated README to reflect v1.8
--------------------
06/04/01 - v1.8.0
--------------------
06/01/01 - multiple categories (multiple values at all) for item now works
         - new item view statistics field (displayed_count) in item table
           (normal field, so you can view it, sort by it, make conditions ...)
         - new sql_update.php3 script for easy database install & reinstalation
         - new short_id for item (and new x parameter to slice.php3 script) for
           shorter item urls
         - little changes in view setting - better user interface
05/29/01 - shared field displayed in itemedit form, even they are locked for
           update
05/27/01 - fixed problem with doubled item from search
05/26/01 - fixed problem with '=' character passed by url
         - doc/FAQ.html updated
05/25/01 - field ID is displayed instead of type in field setting se_fields.php3
         - new search parameters in slice.php3, which uses beter search funct.
05/24/01 - fixed bug of item disapearing after item modify
         - fixed bug of not updated list of item in Item manager after item edit
05/21/01 - new "field mapping" feature for feeding - se_mapping.php3
           (by Ondra Mazanec)
05/18/01 - new View feature, new and improved search function (QueryIDs)
         - better Message Page handling (not so much)
         - removed unnecessary enctype="multipart/form-data" from <form> tags
05/17/01 - fixed problem vith "No slices listed in Content Pooling page"
05/16/01 - fixed problem of bad Netscape's view of user manegement pages
05/13/01 - link to alias editing page in listing of aliases (se_fulltext, ...)
         - spanish language added (es_news.lang.php3 and es_common_lang.php3)
04/17/01 - new script go.php3 for finding links to asiciated items (fed from...)
         - corrected LDIF.init and slapd.conf for LDAP permissions system
         - fixed bug of not displayed top/bottom HTML code in fulltext
           and category
         - new conditional alias
04/09/01 - order parameter works with '+' sign too in slice.php3
         - new timeorder parameter in slice.php3
         - fixed bug in selecting bin, where to put item in filler.php3
         - fixed bug of not stored parameter for field input type in
           se_inputform.php3
         - added size and maxlength parameters to field input type
03/30/01 - uploaded images goes to sepatrate directories (separated by slice)
           (subdirectories under IMG_UPLOAD_PATH with name based on slice_id)
         - offline filling bug fixed
         - reversed HTML / Plaintext setting bug fixed
03/23/01 - fixed problem with displaying quotes (["'\<>]) in se_input_form.php3
         - multiple image (file) uploading into slice now works
03/19/01 - updated FAQ.html to reflect v1.6
03/17/01 - feeding now respects current setting of feeding permission (fixed
           the "disable feeding doesn't terminate feeding" bug)
         - new "Delete slice" admin page for superusers
         - better anonymous posting support (new filler.php3 script introduced
           which allows full HTML customization and images and other files
           uploads from anonymous forms)
03/14/01 - HTML/plaintext switch now works
         - some fields are hidden for not superusers (template, deleted, ...)
         - counting of items in each bin
         - better feeding support (internaly prepared for unfeedable fields)
03/03/01 - feeding support
         - fixed bug with radiobuttons, ...
         - better seting of News template
02/24/01 - color profiles definitoins
         - template/delete options in slicedit.php3 visible only to Superadmins
--------------------
26/01/00 - v1.6
--------------------
01/23/01 - added possibility to define Aliases in se_inputform.php3
         - fixed bug in permission handling (no showed slices for no superusers)
         - added help texts to design pages se_admin, se_fulltext, se_compact
01/20/01 - final 'I hope' version of APC-wide categories implemented
         - better categy handling for new slices (predefined its own category
           set)
         - fixed problem with storing item ids to session in too big slices
         - implemented posibility to view multiple fulltext items on one page
           (see item parameter in slice.php3)
01/19/01 - removed absolute paths to some pictures
         - fixed bug in displaying admin pages (table caption not displayed)
01/14/01 - modified db table constant (added id column - used with categories)
         - include/view.php3 modified to use page caching
         - new include/pagecache.php3 with functions allowing caching of pages
01/13/01 - loging for change slice feeding settings
         - new include/logs.php3 with utilities for logging (log table modified)
01/09/01 - located and fixed bug in in PHPLib. Fixed by patching ac_store()\
           function in PHPLib :-(.
01/08/01 - fixed problem with unpack_id() in some PHP versions (4.0.3)
           (Documents contain no data problem)
01/04/01 - fixed "cannot redeclare sec2userdate() problem"
         - fixed problem with wrong .htaccess file ("Internal Server Error"
           problem)
--------------------
25/12/00 - v1.5.2
--------------------
The new structure allows
  - more powerfull customisation of each slice (you can easy add the new
    field to your slice)
  - new aplications (as joblist, resources, ...) can be done via admin
    interface - not by editing language files.
  - each item category has its parent - APC wide - category (suggestion on this
    welcommed)
  - allows threading and grouping of items in future - allows multiple
    selection for the same field in future
  - ...
--------------------
18/12/00 - v1.2.3
--------------------
11/20/00 - fixed bug in anonymous posting from other than news aplication
11/16/00 - changed admin leftbar menu order and labels
         - changed default article editor field order & fields
         - improved some of the english labels
11/15/00 - fixed problem with required Start date and End date
         - fixed bug of bad viewed item in itemedit
         - fixed problem with annonymous posted item on encapsulated (SSI) page
11/13/00 - fixed bad order for default setting of show fields and needed fields
         - fixed problem with bad minutes in date() function
         - list of items in admin interface is not centered
11/08/00 - fixed problem with bad AA_SL_Sess id - bad copy QUERY_STRING to
           HTTP_GET_VARS
10/16/00 - big search form can be customized via style sheets
--------------------
09/14/00 - v1.2.2
--------------------
10/10/00 - new application "Who's who", "Joblist", "Resource"
           (support for Web.net's extended item table)
         - better backslashes handling for Query string parsing
         - better database operations result checking
         - messages abstraction via MsgOK(), MsgErr()
         - default sortorded of items in adminstration is the newest first
--------------------
09/14/00 - v1.2.0
--------------------
08/29/00 - better validation of id (1-32 chars) and password (any character)
08/23/00 - fixed security problem with inc parameter to slice.php3
08/22/00 - fixed problem with lost session id AA_SL_Session in cgi (PHP4)
           instalation
08/18/00 - new installation documentation
08/17/00 - New possibility of redirected view of item. Alias _#HDLN_URL now
           points to External link (if link_only=true) or on redirect url
           (if specified) or on the same page. The redirected url should
           contain <!-- #include ...slice.php3 --> again, but with other look.
           database modifications necessary:
              ALTER TABLE items ADD redirect VARCHAR (255);
              ALTER TABLE slices ADD d_redirect VARCHAR (255) ;
         - new parameter inc for slice.php3 script (used for displaying static
           page insear of slice data
           Usage: http://web.ecn.cz/slice.shtml?inc=http://www.ecn.cz/info.txt
         - Search go through approved items only in searchlib
08/14/00 - fixed "membership of zeros" problem visible in SQL permissions
         - fixed incorrect default for in DelGroup
         - added checking for empty groups with superadmin access in setup.php3
08/11/00 - added setup script setup.php3
         - E-mail is not required for user in permission system
08/07/00 - fixed a few compatibility problems with PHP4
           (in_array defined optionaly, added semicolon to global declarations)
08/03/00 - fixed bug in sort order in view.php3
         - "No WDDX warning" removed as confusing
         - session variable r_hidden used instead of HIDDEN html tag
           for security lacking data.
         - magic quoting of posted variables if magic_quotes_gpc is off.
08/02/00 - fixed problem with zero scroller length error message
         - partialy fixed problem with quoting values on machinech with no
           magic_quotes_gpc = on
         - default variables for new slices defined
         - new images for "HTML formated" column in admin interface index.php3
         - some language corrections
08/01/00 - fixed problem with OpenLDAP and ldap_mod_del (apcaci changes)
         - global SuperAdmin access rights take precedence over slice-specific
         - membership in groups now queried in SQL version of GetIDPerms()
07/28/00 - deletion of groups now works
         - resolved some differencies in behaviour of perm_sql and perm_ldap
07/27/00 - to change privileges of other accounts, equality of permissions
           is no longer adequate (higher role is required)
         - superadmin privilege settings in User / Group management
07/26/00 - added default WDDX value for new slices
07/25/00 - fixed minor Javascript errors in se_compact.php3 and index.php3
         - changes.txt renamed to CHANGES, format adjusted
07/21/00 - "Edit User" prints login names instead of DB specific IDs
         - added support for PHP in CGI mode with --enable-force-cgi-redirect
07/18/00 - added support for other crypt() variants
07/17/00 - fixed login without password bug (LDAP)
--------------------
07/14/00 - v1.1.0
--------------------
07/14/00 - fixed filters bug (no defined categories)
07/13/00 - created_by and created_at are no more zeroized during slice
           updates
         - Article Editor prints people's names instead of UIDs
07/12/00 - fixed seek() error (OPTIMIZE_FOR_MYSQL == false)
         - slice selector printed only when more slices available
         - Article Manager prints real SSI line
07/11/00 - config.inc renamed to config.php3, old links to config.inc
           adjusted
--------------------
07/04/00 - v1.0.2
--------------------
07/04/00 - miscellaneous bugs fixed
--------------------
06/14/00 - v1.0.1
--------------------
06/12/00 - fixed bug of add new slice (it was caused by expiry date
           removing 6/5/00)
06/07/00 - new configurable admin interface (user can select columns
           in admin interface)
06/05/00 - removed expiry date default setting for slice (so now there
           is only expity limit in days)
05/29/00 - fixed bug for OPTIMIZED_FOR_MYSQL compact view - navigation
           bars are shown now
05/22/00 - sort order of items in compact view changed (newer items go first)
05/19/00 - MySQL perms fixed
04/24/00 - new anonymous posting feature (465)
         - new preview of editted item feature (467)
04/18/00 - corrections to design
04/17/00 - new user management interface
04/14/00 - some language corrections
04/13/00 - new public permission function GetGroup (analogic to GetUser)
04/12/00 - fixed bug in remove all fed slices from import
04/11/00 - fixed bug of category sorting in index.php3 (436)
03/30/00 - fixed bug of wrong displaying "feeded from" and "feeded into"
           (more details in index.php3)
03/29/00 - fulltext slash bug fixed (no additional slashes before ' " and \)
         - updated icon legend just below items in index.php3
         - encap=true is default setting of parameter given to slice.php3
03/28/00 - new direct feeding feature from index.php3
03/24/00 - bug fixed in index.php3 - zero length items list makes no error
           message if OPTIMIZE_FOR_MYSQL == false
03/22/00 - updated perm function GetMembership - if $flags==1 then groups
           are not scanned recursively
         - bug fixed in perm_ldap.php3: ($flags && 1) changed to ($flags & 1)
           for bitwise AND
03/20/00 - fulltext preview window go allways on top, now
         - categories and slices too are sorted in listboxes
           in se_catogory.php3
03/17/00 - javascript in category setting supports NN 3.0 too
         - javascript for selecting/unselecting visible items on editor page
           supports NN3
         - javascript for Import & Export feeding setting supports NN3, now
03/16/00 - solved problem of adding new slice to empty database
         - new aplications: Press release publisher, News in czech language
         - fixed bug in detailed list of items (editor index.php3 page)
03/13/00 - new graphics design
         - perm_sql
03/09/00 - SGML version of INSTALL
         - all configuration options moved to config.php3
03/08/00 - new directive OPTIMIZE_FOR_MYSQL which optimizes SQL queries
           for MySQL database
         - new aliases and alises help
03/07/00 - alias substitution optimized for speed
03/02/00 - bug fixed in slice URL setting (slice_url in form colided with
           slice_url in navigation bar)
02/29/00 - new: fulltext preview comes to separate window
02/28/00 - new navigation bar
02/25/00 - new category administration interface
         - enhanced permission system API
         - new caching feature of permission system (just one (LDAP ...)
           search for each user)
02/24/00 - bug fixed: no LDAP warning message if number of results exceeds
           limit (500)
         - removed organization select in Add user interface (not needed
           in new permission system)
02/22/00 - expiry date limit now works
         - when you insert new user you will go directly to add slice user
           page
02/21/00 - add user search return all matched users (not only addable one)
02/17/00 - simplified AuthenticateUsername(), changed declaration of
           AddPermissionPerson() - now requires an array
02/16/00 - fixed bug in Delete of last assigned permission; changes now at
           attribute level
02/14/00 - fixed URL generation in Permissions pages
02/10/00 - speed up page view by spliting util.php3 into util.php3 and
           formutil.php3 (and selective incuding of these files)
02/08/00 - safer html headers within pages (charset specified)
02/07/00 - image uploading from itemedit.php3 page
02/05/00 - aplication prepared for multiple types of AA
           (slice type select for new slice, ...)
02/03/00 - feeding export enabling/disabling now works
02/02/00 - new design of editor page index.php3
01/31/00 - updated perm_all.php3 - pure permission function file - all
           users have all permissions
01/21/00 - Improved speed of compact and fulltext view displaying.
           (Names os aliases changed to equal lenth one)
         - new: grabing fulltext into abstract, when abstract is empty.
           Length is controlled on slicedit.php3 page.
         - "Posting enabled" and "Show recents" removed from
           slicedit.php3 - recrement information
         - New "Remove strings" in compact and fulltext view (in order
           to remove empty braces and other things from display)
01/20/00 - fixed bugs on category sorting (1. database error ocurred,
           2. skipped to another slice)
         - Deleted slices are not accessible for authors-administrators from
           editor page index.php3 (super user (as toolkit one) see all
           slices)
         - Deleted slices are not accessible for view, too (in slice.php3)
           (items from deleted slice are still accessible from search engine,
           if user do not specify slice, where to search)
01/19/00 - new: se_newuser.php3 for adding new user to LDAP permission
           system
           (password is md5 encrypted)
01/14/00 - editor.php3 ranamed to index.php3, index.php3 removed
01/13/00 - new: item fulltext preview button in editor.php3
         - new: slice management strip in editor.php3
01/12/00 - new LDAP permission system (user management with roles, add user
           from ldap directory, not new LDAP users interface)
         - all known pages (without index.php3) support LDAP permission
           system
01/11/00 - max nesting of groups of users is checked (it avoids cycle
           in group definition)
01/06/00 - if you add slice, new ldap entry for this object is created
01/05/00 - new file perm_all.php3 which is modified permission library
           perm_ldap.php3. perm_all.php3 gives any permisiion to any user
         - simple user management works
12/22/99 - refresh message page is not displayed, when you click back button
           in browser
         - LDAP authentification instead of MySQL database (changes in
           phplib)
12/17/99 - big search form works correctly and its behavior can be set
           on se_search.php3 page
12/16/99 - new example slice with examples of category links, homepage
           (highlight) links, small search field and full search form link
         - improved managing of spdecial characters in forms (like ', ", \)
12/15/99 - new slice administration page se_search.php3 for big search form
           setting
12/14/99 - fixed bug in deleting items (bug due to move full_text to new
           database)
12/13/99 - search works with feeded items, now (I changed name of full_text
           field in items table to full_text_old, because it should not
           longer
           be used. Use full_text in fulltexts table instead)
12/10/99 - table items divided to items and fulltexts, where fulltexts of
           items are stored (its very useful for searching, expecialy when
           you want to search feeded items)
         - new parameter bigsearch to slice.php3 - shows big search form
           (the searching is not 100%, yet - not search in feeded item
           and maybe other bugs)
12/09/99 - slice url field added to slices database and related scripts,
           which means link to home page of this slice (slice.shtml)
         - new parameter cat_id to slice.php3 - shows only items in category
           with id ...
         - new parameter cat_name to slice.php3 - shows only items in
           category with name LIKE '%cat_name%'
         - new version of scroller - easy_scroller - simplified version of
           scroller used in slice.php3
12/08/99 - compact view sorting is by publish_date and not post_date
         - default fulltext and compact html changed to view publish date
           and not post date
         - fixed bug in html formatted preview (it replaces NL with <BR>
           before)
         - listing length settings in slicedit is now applayed to compact
           view
12/07/99 - slice headline and id shown in all sliceedit pages
12/06/99 - full functionality of itemedit with hiding fields
         - little bug in feeding fixed (do not feed items posted to holding
           bin)
12/03/99 - completely new itemedit.php3 in order to work with hiding
           settings(se_fields.php3)
12/02/99 - new se_fields.php3 page for seting, which data fields are shown
           and which of them are needed to fill in itemedit
11/30/99 - new delete trash bin command in editor.php3 (it is smart - do not
           delete base items which have some feed)
         - highlight checkbox added to itemedit.php3
         - default highlight checkbox added to slicedit.php3
11/29/99 - editor table shows highlighted items now (in editor.php3)
         - editor table shows feeded/base items now (in editor.php3) - maybe
           it is useful for debugging only
11/26/99 - expired items are shown with red headline in editor tables
           (editor.php3)
         - if item is not published yet (due to publish_date) the headline
           ineditor tables is blue (editor.php3)
11/25/99 - fulltext is shown correctly in feeded items now
         - default format string values for compact and fulltext view are
           defined
         - feeding seems to work good including category renaming
         - publish date is extended by actual time when publish date is
           today(getdatetime() in date.php3
         - expiry date is shown correctly in add item (itemedit.php3) now
         - date ranges are changed for expiry and publish date in
           itemedit.php3 and sliedit.php3
           (extended date.php3 to accept "year plus range" and "year minus
           range")
         - there are no longer shown expired items in compact view
           (slice.php3)
         - the items with publish date somewhere in future are not displayed
           in compact view
         - new parameter highlight to slice.php3 which selected just
           highlighted items (if true)
11/24/99 - feeding filtering background (se_filters2.php3) - writing to
           database
         - new user slices examples (Altavista like slice, Press.cz like
           slice)
11/23/99 - removed bug in se_import.php3 - list of not imported slices is
           correct now
         - new interface page for feeding filtering (se_filters.php3)
11/22/99 - implemented feeding background
         - removed bug in new_id() - function doesn't return ids which
           packedcontaints >'<
11/18/99 - added new page for feeding setting (import part is function,
           export part does not (due to permission system)
11/16/99 - category sorting posibility in compact view (you can set it on
           se_compact.php3 page)
         - category headline is showed in category sorted compact view
         - category headline format can be set on se_compact.php3 page
         - you can use top/bottom HTML code which is added before/after
           compact view (se_compact.php3)
         - sort looks only into selected slice
11/15/99 - compact view format now works (item.php3 completely changed)
         - fulltext format works
         - Econnect-like slice.shtml added
11/12/99 - added correct codepage in HTML HEAD in not encapsulated
           slice.php3 page
         - added new page for fulltext format setting (se_fulltext.php3)
         - added new page for compact view format setting (se_compact.php3)
11/11/99 - left navigation column in slicedit.php3 is called via require
           se_inc.php3 now
         - added links to feeding and design setting for slice
           (slicedit.php3), but it does not work yet
11/10/99 - fixed bug in add_vars() function (extsessi.php3) which did not
           work with arrays
         - small search window installed to slice.shtml and search
           backgroundchanged to work with
           scroller and rewrited from search.php3 to slice.php3
11/09/99 - user view in compact form works well with categories now
         - better navigation bar behavior in compact item view
         - category rename feature in se_category.php3
         - items, which is in category not defined for this slice are shown
           in red (in editor.php3)
         - better converting plaintext to html in fulltext view (spaces are
           accepted now)
11/08/99 - new class Ctable for better table manipulation
         - no category column for slices without categories
         - fixed bug on storing filters when switching to another slice (now
           are filters cleared)
11/05/99 - add and modify items work with selected slice (not only with the
           hardwired one)
         - main admin page switched from index.html to index.php3
11/04/99 - category management for slices (for both - new slice and edit
           slice)
11/03/99 - new category buton functionality added (in slice management)
