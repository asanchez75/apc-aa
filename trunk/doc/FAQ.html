<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<head>
	<title>APC Toolkit Action Aplications - Developers FAQ</title>
  <link rel=stylesheet type="text/css" href="devnotes.css">
</head>
<body>
<A href="index.html">Other documentation</a><br>
<hr><br>
<A href="#newaa">How to create a new Action Aplication</a><br><br>
<A href="#anonymous">How to create a form allowing anonymous posting from public website?</a><br><br>
<A href="#aalanguage">How to create aa in an alternate language?</a><br><br>
<A href="#aaslices">What are the 'Action Aplication Core' and 'News (EN) Template' slices?</a><br><br>
<A href="#feeding">How does the internal feeding work?</a><br><br>
<A href="#aliases">How to create a new alias function?</a><br><br>
<A href="#parent">How to link a parent item?</a><br><br>
<A href="#constant">How the 'Display' and the 'Store in Database' parts of the category/constant is supposed to be used?</a><br><br>
<A href="#category">What is a parent category?</a><br><br>
<A href="#search">How to setup the searchform?</a><br><br>
<A href="#alias">What is the Parameters in Alias Function definition</a><br><br>
<A href="#javascript">What does the "JavaScript item exchange" View mean?</a><br><br>
<A href="#sliceparam">Which parameters I can use with slice.php3</a><br><br>
<A href="#viewparam">Which parameters I can use with view.php3</a><br><br>
<A href="#ids">How to make an item url shorter?</a><br><br>
<A href="#archive">How to display the archive (expired items)?</a><br><br>
<A href="#offline">How to set the off-line filling up?</a><br><br>
<A href="#"></a><br><br>
<A href="#"></a><br><br>
<A href="#"></a>



<a name="newaa"></a>
<h3>How to create a new Action Aplication</h3>
<p>   The applications in v1.5+ can be created quite easy.<br>
<ol>
  <li>Choose a slice and create the set of fields you want to have in the new application.<br>
    <br>
  <li>For these fields change the default values, help texts, names, priorities, 
    aliases, etc. in the admin interface (<font color="#663333">"Admin" -&gt; "Main settings 
    - Fields"</font>).<br>
    <br>
  <li>Change the design of the fulltext view, list item view and possibly the admin 
    view (<font color="#663333">"Admin" -&gt; "Design - Fulltext"</font>, <font color="#663333">"Admin" 
    -&gt; "Design - Index"</font>, <font color="#663333">"Admin" -&gt; "Design - Item 
    Manager"</font>)<br>
    <br>
  <li>Test the new slice, whether it is working O.K.<br>
    <br>
  <li>Add a new slice based on this one (not a template, but a slice)<br>
    <br>
  <li>Mark the new slice as a Template (<font color="#663333">"Admin" -&gt; "Main settings 
    - Slice"</font>) - to do this you must be the superadministrator (four stars).<br>
  <br>
  </li>
</ol>


<a name="anonymous"></a>
<h3>How to create a form allowing anonymous posting from public website?</h3>
<ol>
  <li><b>Enable anonymous posting</b><br>
    <br>
    First thing you have to do is to permit anonymous posting from web. This can 
    be done on <font color="#663333">"Admin" -&gt; "Main settings - Slice"</font> 
    page by the option <font color="#663333">"Allow anonymous posting of 
    items"</font>. There you select to what bin the anonymous posted items 
    should go ("<i>Active</i>" and "<i>Holding bin</i>" are the possibilities).<br>
    <br>
  <li><b>Create the form</b><br>
    <br>
    The easiest way how to create an input form is to display standard input form 
    from admin interface (<font color="#663333">"Add item"</font>). Than  
    view the source code for the displayed page and copy the code, which is between &lt;form 
    ...&gt; and &lt;/form&gt; tags inside the HTML code for a new public page (newitem.html 
    for example). <br>
    <br>
    Make as many changes as you want in the form. One change is necessary. 
	There should be changed the url of the script, which the form is posted to
    to <b>filler.php3</b>:<br>
    <br>
    Change it from<br>
    <br>
    <code>&lt;form enctype='multipart/form-data' method= postaction='/apc-aa/admin/itemedit.php3?AA_CP_Session=2bbb85e9205239910a222b4c59cee2fa'&gt;</code><br>
    <br>
    to<br>
    <br>
    <code>&lt;form enctype="multipart/form-data" method=post action='/apc-aa/filler.php3'&gt;</code><br>
    <br>
    That is all what you need to do. In the next paragraph are just some tips and tricks for 
    better customization.<br>
    <br>
    <b>Tips &amp; Tricks</b><br>
    <ul>
      <li>You can delete all the fields from the form, but <b>slice_id</b>. The slice_id 
        should allways remain.<br>
        <br>
      <li>The inputs are <b>validated</b> as if they were typed in the standard itemedit.php3 
        form. When there are some invalid data, the whole item is admitted. It is a very 
        good idea to add your own javascript validation of the form before it is sent
        to the filler.php3 script.<br>
        <br>
      <li>You can disable the standard AA validation by adding a hidden field <b>notvalidate</b> 
        in the form:<br>
        <code>&lt;input type=hidden name='notvalidate' value='1'&gt;</code> <br>
        <br>
      <li>The page which appears when the item is correctly stored in the database 
        can be specified in the <b>ok_url</b> variable:<br>
        <br>
        <code>&lt;input type=hidden name='ok_url' value='http://www.apc.org/thanks.html'&gt;</code> 
        <br>
        <br>
      <li>The page which appears when the item is not correctly stored in the database 
        (due to validation problems, ...) can be specified in the <b>err_url</b> 
        variable:<br>
        <br>
        <code>&lt;input type=hidden name='err_url' value='http://www.apc.org/invalid.html'&gt;<br>
        <br>
        </code>
      <li>It is possible to set values to a non-displayed field by just adding 
        a hidden field for such a field:<br>
        <br>
        <code>&lt;input type=hidden name='v696d675f6865696768742e2e2e2e2e2e' value='Anonymous 
        author'&gt;</code><br>
        <br>
        Note:<br>
        This solution is easy and good working in many cases, but it is by no means secure. 
        Any experienced user can change the values of the hidden fields so don't relly 
        on such data. A better solution is to completely omit such fields from the input 
        form and set the default values for the fields in <font color="#663333">"Admin" 
        -&gt; "Main setting - Fields" -&gt; "Edit" -&gt; "Default"</font>. The values than 
        are set directly from the database. This solution is a little bit more secure. 
        <br>
        <br>
      <li>It is possible to send <b>images</b> and other <b>files</b> by the form 
        (unlike the anonymous posting in version prior 1.5)</li>
    </ul>
  </li>
</ol>

<a name="aalanguage"></a>
<h3>How to create an aa in an alternate language?</h3>
<p> If you want to translate the ActionApps to another language, you can look at:</p>
<ul>
  <li> <b>include/en_common_lang.php3</b><br>
    <br>
    - this is the file with language constants definions which is common to all 
    slices in the AA instalation (e.g cz_common_lang.php3 is 
    the same file for the Czech language) <br>
    <br>
  <li> <b>include/en_news_lang.php3</b><br>
    <br>
    - this is the file with language constants definions for specific slices. It 
    is possible to have slices in different languages. You can choose the  
    language used on the "Admin" -&gt; "Main settings - Slice" page. Hence if you want to have 
    slices in French, you have to copy en_news_lang.php3 to a new file (fr_news_lang.php3 
    for example) and translate the texts to French to fit your needs.<br>
    <br>
  <li> texts in template slice <b>News (EN) template</b> (see <A href="#aaslices">Templates</a> 
    section)<br>
    <br>
  <li> texts in fields templateslice <b>Action Aplication Core</b> (see <A href="#aaslices">Templates</a> 
    section)</li>
</ul>
<a name="aaslices"></a>
<h3>What are the 'Action Aplication Core' and 'News (EN) Template' slices?</h3>
<i>There are two (and should be more in the future) odd slices in slice listbox. Why?</i>
<p>Both - the '<i>Action Aplication Core</i>' and '<i>News (EN) Template</i>' are 
  only visible to superadmins and both should not have any items.</p>

<p><b>News (EN) Template</b><br>
  <br>
  The '<i>News (EN) Template</i>' slice is just a template for creating new slices. 
  This template is shown as an option in <font color="#663333">"Admin" -&gt; "Add Slice"</font> 
  dialog in templates listbox. If you feel a setting for the new created slices 
  is not optimal you have two possibilities:<br>

<ul>
  <li>Modify the setting for the '<i>News (EN) Template'</i> slice on <font color="#663333">"Admin"</font> 
    pages. New slices based on the modified template will be set-up by 
    the new setting in template slice.<br>
    <br>
  <li>Create a new application (= template) as described in <A href="#newaa">New 
    Aplication section</a></li>
</ul>
<p></p>
<p><b>Action Aplication Core</b><br>
  <br>
  '<i>Action Aplication Core</i>' slice is something another. In this slice there are defined 
  the default values for each <b>field type</b>. These values are used when you  
  add some new field to a slice on the <font color="#663333">"Admin" -&gt; "Main settins - Field"</font> 
  page. Fill the field name, priority and field type. After you have clicked on 
  update, the new field is added to the database for the slice and the values (like validate 
  function, alias, help text, ...) are copied from the same field in the '<i>Action 
  Aplication Core</i>' slice. It is a good idea to translate the help texts in the 
  '<i>Action Aplication Core</i>' slice too when you are translating the whole ActionApps 
  to some other language. </p>

<a name="feeding"></a>
<h3>How does the internal feeding wrok?</h3>
<p>There are two feeding methods - authomatical and manual. Automatical feeding works only for 
new/updated item. By manual feeding it is possible to feed any selected item to another slice (if you have permission to do so).</p> 

<p><b>Manual feeding</b><br>
   In Item Manager select the items you want to send to another 
slice. Select "Export" on the toolbar just below the itemlist. After 
clicking on "GO" a new window is shown where you can select 
destination slices. (You must have a permission in the
destination slice - at least Author. If you are Editor or more in the
destination slice, you can set the "Active" checkbox, which means to
copy the items in the destination slice into the Active Bin. If the checkbox  
stays unchecked, the item is copied to the Holding bin).</p>

<p>  The feeding is error-safe, it is impossible to feed one item to the same
destination slice more than once.</p>


<p><b>Automatical feeding</b><br>
When you write an item which goes into the <i>Active bin</i> or when you approve an 
  item, the feeding function is invoked. This function finds all slices
  where the item should be fed (depending on current feeding permissions (<font color="#663333">"Admin" 
  -&gt; "Content pooling - Import &amp; Export"</font>) and feeding setings (<font color="#663333">"Admin" 
  -&gt; "Content pooling - Filters"</font>)). The feeding goes deeper and deeper between the slices until a cycle is detected or feeding into <i>Holding bin</i> is set. </p>
<p>Feeding one item from one slice to another means:<br>
<ul>
  <li>The content of each field is copied to the destination slice (there is one exception 
    - see the <i>STATE_UNFEEDABLE</i> flag in following text)<br>
    <br>
  <li>The content is copied including the <i>HTML codded / plain text</i> flag<br>
    <br>
  <li>The field is fed to the destination field with the same field_id as default (<i>headline........</i> 
    goes to <i>headline........</i> field). This can be changed in the <i>feedmap</i> 
    table, where you can map fields to another ones (See <font color="#663333">"Admin" 
  -&gt; "Content pooling - Mapping"</font><br>
    <br>
  <li>flag <i>FLAG_FEED</i> is set for each stored value (see <i>FLAG_*</i> definitons 
    in following text)</li>
</ul>
<p></p>

<p>Let's look in the constants.php3 file:<br>
  <br>
  <code> # content table flags<br>
  define( "FLAG_HTML", 1 );<br>
  define( "FLAG_FEED", 2 );<br>
  define( "FLAG_FREEZE", 4 );<br>
  define( "FLAG_OFFLINE", 8 );<br>
  define( "FLAG_UPDATE", 16 );<br>
  <br>
  # states of feed field of field table<br>
  define( "STATE_FEEDABLE", 0 );<br>
  define( "STATE_UNFEEDABLE", 1 );<br>
  define( "STATE_FEEDNOCHANGE", 2 );<br>
  define( "STATE_FEEDABLE_UPDATE",3);<br>
  define( "STATE_FEEDABLE_UPDATE_LOCKED",4);<br>
  <br>
  # relation table flags<br>
  define( "REL_FLAG_FEED", 2 ); # 2 - just to be compatible with content table<br>
  </code><br>
  <br>
  There you see how the various flags can be set. The most important are the flags 
  for the <i>field</i> table. For each field you can set whether this field is<br>
<ul>
  <li>feedable (<i>STATE_FEEDABLE</i>) - the content of this field is copied 
    to the new slice and user in the new slice can freely edit it<br>
    <br>
  <li>unfeedable (<i>STATE_UNFEEDABLE</i>) - the content of this field is never 
    copied to the new slice<br>
    <br>
  <li>feedable, but locked (<i>STATE_FEEDNOCHANGE</i>) - the field is copied to the new 
    slice, but the flag <i>FLAG_FREEZE</i> is set for the field, so the
  user in the new slice can display the content of this field, but she can't change 
  the value 
  <li>feedable with update(<i>STATE_FEEDABLE_UPDATE</i>) - the same as STATE_FEEDABLE, but if the content of source field is changed, the content of the destination field is updated too. Editor of the destination slice can change value of such a field, but when someone changes the field in the source slice, the value is rewritten.<br>
  <li>feedable with update and locked (<i>STATE_FEEDABLE_UPDATE_LOCKED</i>) - the same as STATE_FEEDABLE_UPDATE, but the editor of the destination slice can't change the value of this  field.<br>
    <br>
  </li>
</ul>
These settings can be done on the <font color="#663333">"Admin" -&gt; "Main settings - 
Fields" -&gt; "Edit" -&gt; "Feeding mode"</font> page, where you can set for each field:
<ul>
<li><i>Feed</i> (= STATE_FEEDABLE) - 
  copy the content of the source field once (to the destination field) 
  
<li><i>Do not Feed</i> (= 
  STATE_UNFEEDABLE) - do not copy the content of this field to the destination slice 

  
<li><i>Feed locked</i> (= 
  STATE_FEEDNOCHANGE) - copy the content once, but forbid editors of the destination 
  slice to change the value of this field 
  
<li><i>Feed &amp; update</i> (= 
  STATE_FEEDABLE_UPDATE) - copy the content and update the content of the 
  destination field each time the source field is changed (content sharing) 
  
<li><i>Feed &amp; update &amp; lock</i> (= STATE_FEEDABLE_UPDATE_LOCKED) - the same as before, but editors of the destination slice can't change the content</li>
</ul><br>
<br>
Depending on <i>field</i> table flags, the flags for <i>content</i> table are set:<br>
<ul>
  <li><i>FLAG_HTML</i> is allways copied from the source field
  <br>
  <br>
  <li><i>FLAG_FEED</i> is allways set for fed fields (currently it has no specific 
    use - we just mark the fed content)<br>
    <br>
  <li><i>FLAG_FREEZE</i> is set if the source field has <i>STATE_FEEDNOCHANGE</i> 
    flag set. In other cases this flag is unset. All fields with <i>FLAG_FREEZE</i> 
    are never displayed in the input form so they can't be changed by the user in the destination 
    slice.</li>
</ul>
<p></p>
<p>After copying the contents, the relation table is updated. This table holds 
  information about the feeding tree (from which item is the content fed to another). 
  The relation table will be used for another purposes in future too (for holding 
  discussion threads, ...), so each record for feeding if flagged as <i>REL_FLAG_FEED</i>.<br>
  <br>
</p>
<br><br>

<a name="aliases"></a>
<h3>How to create new alias function?</h3>
<p>   If you find no alias function is good enough for you, you can write your 
own. function. The alias functions are stored in include/item.php3 file and its
names begins with f_ and they are three letters long (just like f_a()).</p>
<p>   All you have to do for new function is:
<ol>
  <li>Write your own function in item.php3 (say f_9()).<br>
    <br>
  <li>Add this function to alias function array $ALIAS_FUNC_TYPES 
      in include/constants.php3.<br>
    <br>
  <li>Assign name to this function in en_news_lang.php3, cz_news_lang.php3, ...
      (just like define("L_ALIAS_FUNC_9", "my_func"); )
<br>
    <br>
  <br>
  </li>
</ol>
<br>
<p>   If you find, that the new alias function is very proprietary (it is
 unusable for other people, you can create file /include/usr_aliasfnc.php3, 
 which is automaticaly included to code (if exists). There you can define your 
 own alias functions. The function have three parameters:
 <ul><li><i>$columns</i> - array of content of each field in item (for example<br>
  $columns[headline........][0][value] = "This is item title"<br>
  <ul>
   <li><i>value</i> last array dimension - select between <i>value</i> and 
     <i>flag</i>. <i>Value</i> is field content <i>flag</i> could be FLAG_HTML | FLAG_FEED | 
    FLAG_FREEZE | FLAG_OFFLINE | FLAG_UPDATE 
 
   <li><i>0</i> - used for multivalue 
    fields (as categories in some slices). For single values we use just 0, for 
    multivalues we use 0, 1, ... 
 
   <li><i>headline........</i> - field id<br><br></li>
  </ul>
  <li><i>$col</i> - field id of column for which the alias is definned<br><br>
  <li><i>$param</i> - parameter passed to function from textfied in alias
    definition (just like usr_cz_date:1). The name of function is in param 
    too!!!</li>
 </ul><br>
 The 
example listing of /include/usr_aliasfnc.php3 (the file should not be committed 
to CVS, because it is very proprietary and the content should not be shared 
between installations):
<P></P>
<pre>&lt;?php
//usr_aliasfnc.php3

define("USR_ALIASFNC_PHP3_INC",1);

# prints czech date (for Ekolist pages)
function usr_cz_date($columns, $col, $param="") { 
  # columns - array of all field values for all ifelds in current item
  # col - fileld id of field, for which the alias is defined
  # param - possibly parameters to alias function passed in alias definition
  #         parameter (usr_cz_date:parameter)

  $dte = $columns[$col][0][value];
  $month = array( 1 => 'ledna', 'února', 'bøezna', 'dubna', 'kvìtna', 'èervna', 
                 'èervence', 'srpna', 'záøí', 'øíjna', 'listopadu', 'prosince');
  $weekday = array("nedìle","pondìlí","úterý","støeda","ètvrtek","pátek","sobota");
  $m = $month[   date("n", $dte) ];
  $end = ( !$param ? '' :  ' ('. $weekday[ date("w", $dte) ]. ')');
  
  return date("j", $dte) .". $m ". date("Y", $dte). $end;
}   
?&gt;
</pre>
<p>Such alias function can be called by defining new alias for some field. Just 
define alias name (as obvious), alias function should be "<A href="#f_u">f_u - user function</a>" 
and the parameter should be the name of the function ("usr_cz_date" in our
example). It is possible to pass parameters to the function. The parameters are 
separated by colon (usr_cz_date:parameters).</p>


<br>

<a name="parent"></a>
<h3>How to link parent item?</h3>

<p>Add<br>
<br>
<code>&lt;a href="/apc-aa/go.php3?sh_itm=_#ITEM_ID#&amp;type=fed"&gt;fed from&lt;/a&gt;
</code><br><br>
or such link to your index (or fulltext) design (Admin -&gt; Design -&gt; Index -&gt; Odd Rows). This will point to fulltext of parent item or to the fulltext of the same item, if the item is not fed.</p>
<br>

<a name="constant"></a>
<h3>How the 'Display' and the 'Store in Database' parts of the category/constant is supposed to be used?</h3>

<p>Categories are done the same way as other constants are. The table for them looks:

<pre>
<code>
CREATE TABLE constant (
   id char(16) NOT NULL,
   group_id char(16) NOT NULL,
   name char(150) NOT NULL,
   value char(150) NOT NULL,
   class char(16),
   pri smallint(5) DEFAULT '100' NOT NULL,
   PRIMARY KEY (id),
   KEY group_id (group_id)
);
</code></pre>

<p>Constants in this table are divided into groups by group_id, so all 
constants in group "CZECH_REGIONS" have the same group_id. 
The group_id is then assigned to specified field on field setting 
page (se_inputform.php3).</p>

<p>Each constant has two important field - name and value. Name 
should be used in input form for displaying the constant (in select 
box, ...). The value is the string, which is then stored in database 
as item (table content).</p>

<p>The class_id field is used just by categories and not other 
constants. There is stored identifier of parent - APC wide - 
categories.</p>

<p>The Pri field is for prioritize the constants in each group (for sorting in
select box ...)</p>

<p>When to use different values in <em>name</em> and <em>value</em> field:</p>

<p>For example the "State" select box (if you want to see it on input 
form) has the names and values of:</p>

<table align=center cellpadding=3 border=0>
  <tr><td class=tabtit>Name</td><td class=tabtit>Value</td></tr>
  <tr><td valign=top class=tabfnc>Approved bin</td><td align=center>1</td></tr>
  <tr><td valign=top class=tabfnc>Holding bin</td><td align=center>2</td></tr>
  <tr><td valign=top class=tabfnc nowrap>Trash bin</td><td align=center>3</td></tr>
</table>

<p>Another example, more real-life - colors select box. There can be 
<em>names</em> of "Red", "blue", "very bright green", ... and <em>values</em> will be 
"#FF0000", "#0000FF", "#EEFFEE". In input form you see Red... 
and on page is then #FF0000</p>

<p>The third example is kind of hint. Suppose you want to have 
different kinds of item - for example "public", "private", "other" and you
want to see this words on compact view. No problem, but you want to see each
in different color. So you can define:</p>

<em>name</em>: Private<br>
<em>value</em>: &lt;font color="#FF0000"&gt;Private&lt;/font&gt;

<br>

<a name="category"></a>
<h3>What is the parent category?</h3>

<p>The APC AA has a Two Layer category system:

<p>1) One set of broad categories set at the network level<br>

These are useful so that people can 'browse' and find the information they
are looking for without a specialized understanding of the content area.

<p>2) Totally flexible page-specific categories<br>
 
<p>Individual page owners can setup any specialized categories that work for
them.  They 'map' their specialized categories to the APC-wide parent
categories.
 
<p>We also want to be able to map between different languages, so
categories can be displayed in the local language, but stored as a
universal constant.
<br>

<a name="search"></a>
<h3>How to setup searchform?</h3>
<p>In current AA version 1.8 it is possible to create searchform manualy in HTML. There is no possibility to create it automaticaly as it is known from AA v1.2., yet</p>
<p>Form example:</p>
<pre><code>
&lt;form action="index.shtml" method="get" name="sf" id="sf"&gt;

Search Author: 
 &lt;input type="text" name="conds[0][created_by......]"&gt;&lt;br&gt;

Search in Headline and Fulltext:
 &lt;input type="text" name="conds[1][value]"&gt;
 &lt;input type="hidden" name="conds[1][operator]" value="LIKE"&gt;
 &lt;input type="hidden" name="conds[1][headline........]" value="1"&gt;
 &lt;input type="hidden" name="conds[1][full_text.......]" value="1"&gt;&lt;br&gt;

 &lt;input type="hidden" name="sort[0][headline........]" value="a"&gt;

 &lt;input type="submit" value="Search" &gt;
&lt;/form&gt;
</code></pre>

<p>Let's notice:
<ul>
 <li>The <b>action</b> atribute on first row points to some file, where slice.php3 script is included (by SSI)<br><br>
 <li>There are two search fields - each of them uses a bit different syntax.<br>First field defines first search condition - conds[0]. The last index is field_id of searched field. Such syntax is easy and is good, if you want to
 <ul>
  <li>search only in one field for that specified phrase<br>
  <li>use standard searching operator, which is 'LIKE' (it means, that if the phrase is "los" the search function finds items with field content "los", "Carlos" or "lost"</li>
 </ul><br>
Second field defines the second search condition. Between each condition is allways AND operator - selected item must allways pass each specified condition.<br>
There is used extended syntax in second condition. In extended sytnax we allways use as last index to conds[]<br><br>
- <b>value</b> atribut, where search phrase is specified (conds[0][value]="Prague")<br><br>
- <b>operator</b> atribut, where operator for that condition is specified. If <b>operator</b> is not specified, 'LIKE' is used as default. The posibilities are:
<table align=center cellpadding=3 border=0>
<tr><td class=tabtit>Operator</td><td class=tabtit>Description</td></tr>
<tr><td valign=top class=tabfnc>=</td><td>equal (or 'e:=' with <A href="#opmodifiers">modifiers</a>)</td></tr>
<tr><td valign=top class=tabfnc>&lt;&gt;</td><td>not equal</td></tr>
<tr><td valign=top class=tabfnc>&lt;</td><td>less than</td></tr>
<tr><td valign=top class=tabfnc>&gt;</td><td>more than</td></tr>
<tr><td valign=top class=tabfnc>&lt;=</td><td>less or equal</td></tr>
<tr><td valign=top class=tabfnc>&gt;=</td><td>more or equal</td></tr>
<tr><td valign=top class=tabfnc>LIKE</td><td>substring search (SQL: LIKE '%phrase%')</td></tr>
<tr><td valign=top class=tabfnc>RLIKE</td><td>substring which begins with phrase (SQL: LIKE 'phrase%')</td></tr>
<tr><td valign=top class=tabfnc>LLIKE</td><td>substring which ends with phrase (SQL: LIKE '%phrase')</td></tr>
<tr><td valign=top class=tabfnc>XLIKE</td><td>string (SQL: LIKE 'phrase')</td></tr>
</table>
<br>

<a name="opmodifiers"></a>The comparison operators can have its modifiers, 
which is used for date transformations and such things. The modificators are 
written before operator separated by colon (like 'd:&gt;='). The possible 
modificators are now:

<table align=center cellpadding=3 border=0>
<tr><td class=tabtit>Operator modificator</td><td class=tabtit>Usage</td><td class=tabtit>Description</td></tr>
<tr><td valign=top class=tabfnc>d</td><td>d:&gt;=</td><td>Used for english style datum transformation. If used, the "value" can be in format like '06/24/2001' or '10 September 2000' see <a href="http://php.net/strtotime">strtotime</a> PHP function definition</td></tr>
<tr><td valign=top class=tabfnc>e</td><td>e:&gt;=</td><td>Used for european style datum transformation. If used, the "value" can be in format like '24.12.2001'</td></tr>
<tr><td valign=top class=tabfnc>m</td><td>m:&gt;=</td><td>Used for comparison with current time. If used, the "value" is substracted from current time (time()) and result value is used in comparison. The value should be in seconds. This modifier is good for displaying items newer than two days, for example.</td></tr>
</table><br>
- <b>&lt;field_id&gt;</b> atributes, where are specified ids of fields, where to search (note, that there can be specified more than one field. The value for those atributes are allways 1 - as shown in example)<br><br>
<li>It is possible to specify search order of found items. For this purpose is there sort[] variable, where the last index specifies the id of field we wont sort listing by. The value can by either<br>
<table align=center cellpadding=3 border=0>
<tr><td class=tabtit>Value</td><td class=tabtit>Description</td></tr>
<tr><td valign=top class=tabfnc>a</td><td>for ascending order (default)</td></tr>
<tr><td valign=top class=tabfnc>d</td><td>for descending order</td></tr>
</table><br>
If no sort[] variable is defined, items are sorted by <i>Publish date</i> - descending<br>
As we can see, there is possibilty to specify more than one sort field. In this case the items are sorted primarily by sort[0] field, secondary by sort[1] field ...</li>
</ul>
<P></P>

<p>Date values are passed in UNIX timestamp (no of seconds since 1.1.1970). You can use <A href="#opmodifiers">operatoer modificators</a> to convert it from human format.</p>
<p>You can see the example on <a href="http://www.apc.org/actionapps/english/demo/search.shtml">APC Demo Site</a>, where publish date field is used too.</p>

<br>

<a name="alias"></a>
<h3>What is the Prameters in Alias Function definition</h3>
<p>When we setting up aliases for database field on se_fields.php3 page, we sometimes need to change the behavior of alias in som way or we need to pass some parameter for alias handling function such as f_f. The Parameters field is the right place, how to do it. The list of parameters for each alias function follows.<br>
In some cases we need to pass more than one parameter to alias function. In such case the aliases are separated by colon character. If we need to use colon inside parameter, we just use #: string instead of : character.<br>
</p>
<table align=center cellpadding=3 border=0>
<tr><td class=tabtit>Function</td><td class=tabtit>Parameter</td><td class=tabtit>Description</td></tr>
<tr><td valign=top class=tabfnc>f_0</td><td clospan="2">null function (nothing shown)</td></tr>
<tr><td>&nbsp;</td><td> none </td><td>&nbsp;</td></tr>

<tr><td valign=top class=tabfnc>f_h</td><td clospan="2">print field content due to html flag set (escape html special characters or just print)</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>delimeter</td><td>if <i>delimeter</i> parameter is specified, the field with multiple values are displayed as list, delited by <i>delimeter</i></td></tr>

<tr><td valign=top class=tabfnc>f_d</td><td clospan="2">prints date in user defined format</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>format</td><td>format string just like in PHP (like "m-d-Y") - see <a href="http://php.net/date">PHP manual</a></td></tr>

<tr><td valign=top class=tabfnc>f_i</td><td clospan="2">prints image scr (&lt;img src=...) - NO_PICTURE for none (the functionality of this alias function can be created as conditional f_c function as well)</td></tr>
<tr><td valign=top class=tabfnc>&nbsp;</td><td>none</td><td>&nbsp;</td></tr>

<tr><td valign=top class=tabfnc>f_n</td><td clospan="2">unpacked id</td></tr>
<tr><td>&nbsp;</td><td>none</td><td>&nbsp;</td></tr>

<tr><td valign=top class=tabfnc>f_g</td><td clospan="2">prints image height atribut (img height=...) or clears it (the functionality of this alias function can be created as conditional f_c function as well)</td></tr>
<tr><td>&nbsp;</td><td>none</td><td>&nbsp;</td></tr>

<tr><td valign=top class=tabfnc>f_w</td><td clospan="2">prints image width atribut (&lt;img width=...) or clears it</td></tr>
<tr><td>&nbsp;</td><td>none</td><td>&nbsp;</td></tr>

<tr><td valign=top class=tabfnc>f_a</td><td clospan="2">prints abstract or grabed fulltext text field</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>length</td><td>length - number of characters taken from field_id (like "80:full_text.......")</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>field_id</td><td>id of fulltex field</td></tr>

<tr><td valign=top class=tabfnc>f_f</td><td clospan="2">prints link to fulltext (hedline url)</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>link_only</td><td>field id (like "link_only.......") where switch between external and internal item is stored</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>redirect</td><td>url of another page which shows the content of item (like "link_only.......:http#://www.ecn.cz/articles/solar.shtml") (note the #: in previous example!)<br>
this page should contain SSI include ../slice.php3 of course</td></tr>

<tr><td valign=top class=tabfnc>f_b</td><td clospan="2">prints text with link to fulltext - more general version of f_f function<br>param: link_only:url_field:redirect:txt:condition_fld (hedline url)</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>link_only</td><td>field id (like "link_only.......") where switch between external and internal item is stored</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>url_field</td><td>field id of external url for link_only<br>
(like hl_href.........)</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>redirect</td><td>url of another page which shows the content of item (like "link_only.......:http#://www.ecn.cz/articles/solar.shtml") (note the #: in previous example!)<br>
this page should contain SSI include ../slice.php3 of course</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>txt</td><td>if txt is field_id content is shown as link, else txt</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>condition_fld</td><td>field id - if no content of this field, no link</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>addition</td><td>additional parameter to &lt;a tag (like "target=_blank")</td></tr>

<tr><td valign=top class=tabfnc>f_t</td><td clospan="2">converts text to html or escape html (due to html flag)</td></tr>
<tr><td>&nbsp;</td><td>none</td><td>&nbsp;</td></tr>

<tr><td valign=top class=tabfnc>f_s</td><td clospan="2">print database field or default value if empty (the functionality of this alias function can be created as conditional f_c function as well)</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>default</td><td>default value (like "javascript: window.alert('No source url specified')")</td></tr>

<tr><td valign=top class=tabfnc>f_l</td><td clospan="2">prints field as link, if field_id in $param is defined, else prints just field</td></tr>
<tr><td valign=top class=tabfnc>&nbsp;</td><td class=tabparam>field_id</td><td>field_id of possible link (like "source_href.....")</td></tr>


<tr><td valign=top class=tabfnc>f_e</td><td clospan="2">_#ITEMEDIT used on admin page index.php3 for itemedit url</td></tr>
<tr><td>&nbsp;</td><td>none</td><td>&nbsp;</td></tr>

<tr><td valign=top class=tabfnc>f_c</td><td clospan="2">prints "begin".field."end" if field="condition", else prints "none"<br>
if no cond_col specified - this $col is used<br>
condition can be reversed (negated) by "!" character at the begin of condition<br>
param: condition:begin:end:none:cond_col</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>condition</td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>begin</td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>end</td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>none</td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>cond_col</td><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td><td colspan=2><I>Example:</I> 1:Yes&lt;!--:--&gt;:No<br>
This example is usable for example for Highlight field - it shows Yes or No depending on highlight field</td></tr>
<tr><td>&nbsp;</td><td colspan=2><I>Example:</I> !:Email#:::<br>
If e-mail field is filled, it shows "Email: email@apc.org" (for example), but if it is not filled, it shows nothing</td></tr>

<tr><td valign=top class=tabfnc><a name="f_u">f_u</a></td><td clospan="2">calls user defined function (see <A href="#aliases">How to create new aliases</a>)</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>function</td><td>name of called function in include/usr_aliasfnc.php3 file</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>parameter</td><td>parameters passed to function</td></tr>

<tr><td valign=top class=tabfnc>f_m</td><td clospan="2">mailto link - prints: "begin&lt;a href="(mailto:)$col"&gt;field/text&lt;/a&gt;"<br>if no $col is filled, prints "else_field/text"</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>begin</td><td>text before link (for example "e-mail")</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>field/text</td><td>if field id specified, the field is used as link text else the text is used insteed.</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>else_field/text</td><td>if no e-mail addres specified in $col, the field content (or text) is displayed</td></tr>
<tr><td>&nbsp;</td><td class=tabparam>linktype</td><td>mailto / href (default is mailto) - it is possible to use this function for links, too - just type "href" as last parameter</td></tr>
</table>
<br><br>

<a name="javascript"></a>
<h3>What does it means the "JavaScript item exchange" View?</h3>
<p>Javascript item echchange View is just name of type of View. It works exactly as standard view, but primary ussage for that type is to show items on any page around the Internet. On destination page should contain HTML tag like:
</p>
<code>
&lt;SCRIPT LANGUAGE= "JavaScript"SRC="http://aa.ecn.cz/apc-aa/view.php3?vid=1"&gt;&lt;/SCRIPT&gt;
</code>

<p>This tag includes the output of view to any page on Internet (there is no restriction to one serever).</p>

<p>Because such tag requires javascript as output of view.php3, the format strings for the view (Admin -&gt; View) should look like:</p>

<b>Top HTML</b>:<br>

document.write("&lt;TABLE WIDTH='100%' BORDER='0' CELLPADDING='2' BGCOLOR='#FFFFFF'&gt;")<br><br>

<b>Odd Rows</b>:<br>
document.write("&lt;TR&gt;&lt;TD VALIGN='TOP'&gt;_#PUB_DATE&lt;/TD&gt;&lt;TD&gt;&lt;a href='_#HDLN_URL'&gt;_#HEADLINE&lt;/a&gt;&lt;/TD&gt;&lt;/TR&gt;")<br><br>

<b>Bottom HTML</b>:<br>
document.write("&lt;/TABLE&gt;")<br>

<p>You can see the example on <a href="http://www.apc.org/actionapps/english/demo/jsexchange.html">APC Demo Site</a></p>
<br>

<a name="sliceparam"></a>
<h3>Which parameters can I use with slice.php3</h3>
<table align=center cellpadding=3 border=0>
<tr><td class=tabtit>Parameter</td><td class=tabtit>Reqiured</td><td class=tabtit>Description</td></tr>
<tr><td valign=top class=tabfnc>slice_id</td><td>Yes</td><td>id of displayed slice</td></tr>
<tr><td valign=top class=tabfnc>restrict</td><td>No</td><td>field id used with "res_val" and "exact" for restricted output (display only items with "restrict" field = "res_val"<br><i>Example:</i>restrict=category........&amp;res_val=Environment&amp;exact=1</td></tr>
<tr><td valign=top class=tabfnc>res_val</td><td>No</td><td>see <i>restrict</i></td></tr>
<tr><td valign=top class=tabfnc>exact</td><td>No</td><td>if set, <i>restrict</i> field must match <i>res_val</i> exactly (=) otherwise substring is sufficient (LIKE '%res_val%')</td></tr>
<tr><td valign=top class=tabfnc>conds[]</td><td>No</td><td>very usefull for complex conditions - see <A href="#search">How to setup the searchform?</a> for <i>conds</i> parameter setting (it can be used as url parameter too - not only form Forms, as described in search section)</td></tr>
<tr><td valign=top class=tabfnc>sort[]</td><td>No</td><td>see <i>conds[]</i> - very usefull for complex sorting</td></tr>
<tr><td valign=top class=tabfnc>highlight</td><td>No</td><td>when true, shows only highlighted items in compact view<br><i>Example:</i> highlight=1</td></tr>
<tr><td valign=top class=tabfnc>order</td><td>No</td><td>order field id - if other than publish date add minus sign for descending order<br><i>Example:</i> order=headline........-</td></tr>
<tr><td valign=top class=tabfnc>timeorder</td><td>No</td><td>if <i>rev</i> - reverse publish date order (less priority than "order")<br><i>Example:</i> timeorder=rev</td></tr>
<tr><td valign=top class=tabfnc>inc</td><td>No</td><td>for dispalying another file instead of slice data (for example some static html file)<br><i>Example:</i> inc=/contact.html</td></tr>
<tr><td valign=top class=tabfnc>als[alias]</td><td>No</td><td>user alias definition - you can define your own aliases in url (for both - slice.php3 and view.php3). Aliases names MUST!!! be 8 characters long. Don't forgot, that the alias value have to be urlencoded.<br><i>Example:</i> als[MY_ALIAS]=Summary%20Page (or maybe better: als%5BMY_ALIAS%5D=Summary%20Page)<br>defines alias _#MY_ALIAS. If used in formatstring ('Admin - Design Index' for example), it prints 'Summary Page'</td></tr>
<tr><td valign=top class=tabfnc>listlen</td><td>No</td><td>change number of listed items in compact view (aplicable in compact viewe only)<br><i>Example:</i> listlen=10</td></tr>
<tr><td valign=top class=tabfnc>no_scr</td><td>No</td><td>if true, no page scroller is displayed<br><i>Example:</i> no_scr=1</td></tr>
<tr><td valign=top class=tabfnc>scr_go</td><td>No</td><td>sets page scroller to specified page<br><i>Example:</i> scr_go=2</td></tr>
<tr><td valign=top class=tabfnc>encap</td><td>Yes for not encapsulated</td><td>determines wheather this file is SSI included to .shtml file (&lt;--#include virtual="... ) or called directly as slice.php3<br><i>Example:</i>encap=false</td></tr>
<tr><td valign=top class=tabfnc>sh_itm</td><td>No</td><td>id of item to show - if specified, selected item is shown in full text<br><i>Example:</i> index.shtml?sh_itm=01ac1b10fae13c0a61c5292ba72d70b1</td></tr>
<tr><td valign=top class=tabfnc>x</td><td>No</td><td>the same as sh_itm, but short_id is used instead (implemented for shorter item url (see _#SITEM_ID alias))</td></tr>
<tr><td valign=top class=tabfnc>srch</td><td>No</td><td>true if this script have to show search results</td></tr>
<tr><td valign=top class=tabfnc>cat_id</td><td>No</td><td>select only items in category with id cat_id<br>Deprecated - better to use <i>restrict</i> and <i>res_val</i> parameters</td></tr>
<tr><td valign=top class=tabfnc>cat_name</td><td>No</td><td>select only items in category with name <i>cat_name</i> as substring<br>Deprecated - better to use <i>restrict</i> and <i>res_val</i> parameters</td></tr>
<tr><td valign=top class=tabfnc>items[id]</td><td>No</td><td>array of items to show one after one as fulltext (<i>ids</i> are the long ones - see sh_itm)</td></tr>
</table>
<br><br>


<a name="viewparam"></a>
<h3>Which parameters can I use with view.php3</h3>
<p>The only required parameter to view.php3 script is number of <i>view</i> to show. This parameter is given by <i>vid</i> url variable. All remaining parameters are optional.</p>
<p>Each optional <i>view</i> parameter begins with <i>cmd</i>[<i>x</i>], where <i>x</i> is <i>view</i> number in which the parameter should be used. This is needed because of possibility to include more than view to one shtml page. That's why we need to specify, for which view the command should work.</p>
<p>It is impossible to specify more than one cmd for one view. If you want to use <i>cmd[]=d</i> for the view, you can't use it with combination with <i>cmd[]=c</i>, for example.</p>
<p>After the <i>cmd</i>[<i>x</i>]= is always character, which specify which command is used - how modify the view. The <i>c</i> command modifies conditions, for example. The values after command character are user parameters and its meaning is different for each command. The parameters are separated by '<i>-</i>' character. Description of parameters is in following table of examples.</p>
<table align=center cellpadding=3 border=0>
<tr><td class=tabtit>Parameter example</td><td class=tabtit>Description</td></tr>
<tr><td valign=top class=tabfnc>vid=<i>4</i></td><td>id of displayed view</td></tr>
<tr><td valign=top class=tabfnc>cmd[23]=v-<i>25</i></td><td>show <i>view</i> id 25 in place of <i>view</i> id 23</td></tr>
<tr><td valign=top class=tabfnc nowrap>cmd[23]=i-<i>24</i>-<i>7464647</i></td><td><i>view</i> number <i>23</i> has to display item <i>7464647</i> in format defined in view <i>24</i></td></tr>
<tr><td valign=top class=tabfnc>cmd[23]=c-<i>1</i>-<i>ICT</i></td><td>display <i>view</i> no <i>23</i> in place of view no <i>23</i> (that's normal), but change <i>value</i> for condition <i>1</i> to "<i>ICT</i>"</td></tr>
<tr><td valign=top class=tabfnc nowrap>cmd[23]=c-<i>1</i>-<i>ICT</i>-<i>2</i>-<i>Jane</i></td><td>the same as above, but there are redefined two conditions. All three conditions could be redefined</td></tr>
<tr><td valign=top class=tabfnc>cmd[23]=d-<i>headline........</i>-<i>LIKE</i>-<i>Profit</i>-<i>source.........1</i>-<i>=</i>-<i>Ecn</i>-<i>publish_date....</i>-<i>m:&gt;</i>-<i>86400</i></td><td>displays <i>view</i> no 23 and redefines the conditions. The conditions are in format <i>field</i>-<i>operator</i>-<i>value</i>. For list of possible <i>operators</i> see <A href="#search">search</a> caption. The <i>operators</i> could be with its <A href="#opmodifiers">modifiers</a>, too. The unlimited number of conditions should be there specified. The speciefied conditions allways replaces all conditions specified in view definition (through admin interface). There are three diferences from <i>cmd[]-c</i> command - 1)operators and fields are specified, 2) default view conditions are ingnored, 3) there can be unlimitted number of conditions. The example would show items in which the <i>headline</i> contains '<i>Profit</i>' and <i>source</i> field is '<i>Ecn</i>' and the item is newer that one day.</td></tr>
<tr><td valign=top class=tabfnc>set[23]=listlen-<i>20</i></td><td>setings to modify view behavior (can be combined with cmd)<br> - sets maximal number of viewed items in view 23 to 20<br> - there can be more settings (in future) - comma separated</td></tr>
<tr><td valign=top class=tabfnc>als[alias]</td><td>user alias definition - you can define your own aliases in url (for both - slice.php3 and view.php3). Aliases names MUST!!! be 8 characters long. Don't forgot, that the alias value have to be urlencoded.<br><i>Example:</i> als[MY_ALIAS]=Summary%20Page (or maybe better: als%5BMY_ALIAS%5D=Summary%20Page)<br>defines alias _#MY_ALIAS. If used in formatstring ('Admin - Design Index' for example), it prints 'Summary Page'</td></tr>
</table>
<br><br>

<a name="ids"></a>
<h3>How to make item url shorter?</h3>
<p><i>Why are slice IDs/item IDs so long? Would it be possible to have them shorter?</i></p>

<p>The 32-digits hexadecimal ids are quite standard in  MySQL/PHP - 
see uniqid() and md5() functions. This identifiers are designed to be 
unique wordwide - so each item has unique id regardless if it is 
stored on Econnect's server or Colnodo ones. This feature help us 
in cross server feeding, ...</p>

<p>Internaly (in database) the ids are stored packed to 16-character 
long strings (for diskspace savings and a bit better performance of 
database operations), but it is important just for developers.</p>

<p>Because of long urls, I made short_id in v1.8 - so the 
autoincremented short ids are used as default. The url for item is 
now:</p>
<code>
http://kalendar.ecn.cz/index.shtml?AA_SL_Session=44ca275c691
842965745f90ab9aee24e&amp;x=27968
</code><br><br>
OR better
<br><br>
<code>
http://kalendar.ecn.cz/index.shtml?x=27968
</code>

<p>The AA_SL_Session is important just for pages with page 
scrollers and it is need not to be sent, if you want to point to some 
article.</p>

<br><br>
<a name="archive"></a>
<h3>How to display archive (expired items)?</h3>
<p>The expired items normaly is not visible on public website. However, the possibility to show expired items is sometimes usefull - mainly for archives. On the other hand, the display of expired items could be unwanted feature for some purposes.</p>
<p>There are two steps to do:
<ol>
  <li>Check, if display of expired items is permitted by 
  setting ALLOW_DISPLAY_EXPIRED_ITEMS constant to true in config.php3 
  <li>Define search condition where '<i>expiry_date.....</i>' is specified. How to define search conditionf look on <A href="#search">search</a> and <i>cmd[]-c</i> or <i>cmd[]-d</i> <A href="#viewparam">parameters to view.php3</a><br>  Example of view.php3 parameter:.../view.php3?vid=23&amp;cmd[23]=d-expiry_date.....-e:&gt;-1.1.1998</li>
</ol>
<P></P>


<br><br>
<a name="offline"></a>
<h3>How to set the off-line filling up?</h3>
<p>The offline filling currently works only in IE with Java support (there are some problems with Netscape and file manipulation permissions).</p>
<p>All files used for off-line filling are stored in /mics/offline2slice directory. All of them should be copied to local computer, where you want to use offline filling. There are a few steps to do for sucessfull installation.</p>

<ol>
  <li>Create directory on your local computer (default is c:\java\).</li>
  <li>Copy files from /mics/offline2slice directory of apc-aa installation to created directory.</li>
  <li>Add row "set classpath=c:\java" to your autoexec.bat file, in order java finds the class definitions.</li>
  <li>Restart computer in order the changes in autoexec.bat tekes efect.</li>
  <li>Open the delete_file.html file and change the location of main filling form<br><em> row 11:  document.location='c:\\java\\fillform.html';</em><br></li>
  <li>Change the location of the file, where form data are stored<br><em> row 19: &lt;PARAM NAME="filename" VALUE="C:\\offlinedata.txt"&gt;</em></li>
  <li>Open the file fillform.html and modify it in order to have the same fields as your slice have. The fields are identified by its ids (like 'headline........'), known from AA.</li>
  <li>Change the parameter to OffLine2Slice applet to point to the file, where the content of filled forms will be locally stored <br><em> row 240 		&lt;PARAM NAME="filename" VALUE="C:\\offlinedata.txt"&gt;</em></li>
  <li>Change the URL in ACTION atribut of second form at fillform.html page to point to your server with ActionApps<br><em> row 356: &lt;FORM NAME="hidden_form" ACTION="http://aa.ecn.cz/aaa/offline.php3" METHOD="post"&gt;</em></li>
  <li>Change slice_id in hidden form input to match your slice, where you want to store item<br><em> row 358: &lt;INPUT NAME="slice_id" TYPE="hidden" value="45636f6d6f6e69746f72427942455a4c"&gt;</em></li>
  <li>Change the path to delete_file.html to point to your install directory, where the file is stored<br><em> row 361: &lt;INPUT NAME="del_url" TYPE="hidden" VALUE="C:/java/delete_file.html"&gt;</em></li>
</ol>

<p>The offline filling is now installed on your computer and you can try it (open your local fillform.html file in your browser). There you can fill as many items as you want and after all send it to the server.</p>
<p>Before sending the filled forms to server make you sure, that the slice you want import to, permit this operation (see 'Admin' - 'Slice' - 'Allow off-line item filling').</p>
<p>After the sucesfull sneding the items to server, your browser should be redirected to the page, where you can delete the file (offlinedata.txt). In this file the filled data are locally stored. The deletion is not necessary - the offline filling script offline.php3 will recignize, if the data for each item is already stored in database or not (the CRC for each item is computed). However, the better practice is to delete the file. This saves the capacity of line, because the data will not be transfered to server for second time.</p>

<br><br>
<a name=""></a>
<h3></h3>

<br><br>
<a name=""></a>
<h3></h3>

<br><br>
<a href="index.html">Other documentation</a><br>

</body>
</html>
